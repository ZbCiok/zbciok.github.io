<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-messaging/rabbitmq/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">RabbitMQ | Reactive Programming</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zbciok.github.io/docs/messaging/rabbitmq"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="RabbitMQ | Reactive Programming"><meta data-rh="true" name="description" content="https://www.rabbitmq.com/"><meta data-rh="true" property="og:description" content="https://www.rabbitmq.com/"><link data-rh="true" rel="icon" href="/img/favicon-black.ico"><link data-rh="true" rel="canonical" href="https://zbciok.github.io/docs/messaging/rabbitmq"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/messaging/rabbitmq" hreflang="en"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/messaging/rabbitmq" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Reactive Programming RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Reactive Programming Atom Feed"><link rel="stylesheet" href="/assets/css/styles.7393f987.css">
<script src="/assets/js/runtime~main.0cc84528.js" defer="defer"></script>
<script src="/assets/js/main.39703d1b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon-black.ico" alt="RP" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon-black.ico" alt="RP" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://jreact.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">jreact.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/streams">Streams</a><button aria-label="Expand sidebar category &#x27;Streams&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/project-reactor">Project Reactor</a><button aria-label="Expand sidebar category &#x27;Project Reactor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/smallrye-mutiny">SmallRye Mutiny</a><button aria-label="Expand sidebar category &#x27;SmallRye Mutiny&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vertx">VERT.X</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/aws">AWS</a><button aria-label="Expand sidebar category &#x27;AWS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/quarkus">Quarkus</a><button aria-label="Expand sidebar category &#x27;Quarkus&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reactive-cruds">Reactive CRUDs</a><button aria-label="Expand sidebar category &#x27;Reactive CRUDs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/messaging-1">Messaging</a><button aria-label="Collapse sidebar category &#x27;Messaging&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/messaging/kafka">Kafka</a><button aria-label="Expand sidebar category &#x27;Kafka&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/docs/messaging/rabbitmq">RabbitMQ</a><button aria-label="Collapse sidebar category &#x27;RabbitMQ&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/messaging/rabbitmq/docker-rabbitmq">Docker RabbitMQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/messaging/rabbitmq/examples">Examples</a><button aria-label="Expand sidebar category &#x27;Examples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/messaging/rabbitmq/references">References</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/auxiliary-software">Auxiliary Software</a><button aria-label="Expand sidebar category &#x27;Auxiliary Software&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/messaging-1"><span itemprop="name">Messaging</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">RabbitMQ</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RabbitMQ</h1></header>
<p><em><strong><a href="https://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">https://www.rabbitmq.com/</a></strong></em> <br>
<a href="https://www.rabbitmq.com/tutorials" target="_blank" rel="noopener noreferrer"><em><strong>RabbitMQ Tutorials</strong></em></a> <br></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terminology">Terminology<a href="#terminology" class="hash-link" aria-label="Direct link to Terminology" title="Direct link to Terminology">​</a></h2>
<ul>
<li>Producer: Application that sends the messages.</li>
<li>Consumer: Application that receives the messages.</li>
<li>Queue: Buffer that stores messages.</li>
<li>Message: Information that is sent from the producer to a consumer through RabbitMQ.</li>
<li>Connection: A connection is a TCP connection between your application and the RabbitMQ broker.</li>
<li>Channel: A channel is a virtual connection inside a connection. When you are publishing or consuming messages from a queue – it’s all done over a channel.</li>
<li>Exchange: Receives messages from producers and pushes them to queues depending on rules defined by the exchange type. To receive messages, a queue needs to be bound to at least one exchange.</li>
<li>Binding: A binding is a link between a queue and an exchange.</li>
<li>Routing key: The routing key is a key that the exchange looks at to decide how to route the message to queues. The routing key is like an address for the message.</li>
</ul>
<img src="/img/messaging/rabbitmq/rabbitm-multiple-queues.png" alt="rabbitm-multiple-queues.png">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="queue">Queue<a href="#queue" class="hash-link" aria-label="Direct link to Queue" title="Direct link to Queue">​</a></h2>
<ul>
<li><em><strong>Producer</strong></em> - a program that sends messages is a <em><strong>producer</strong></em> (<em><strong>P</strong></em>).</li>
<li><em><strong>Queue</strong></em> - messages can be stored inside a <em><strong>Queue</strong></em>. Many <em><strong>producers</strong></em> can send messages that go to one <em><strong>queue</strong></em>, and many <em><strong>consumers</strong></em> can try to receive data from one <em><strong>queue</strong></em>.</li>
<li><em><strong>Consumer</strong></em> - a <em><strong>consumer</strong></em> (<em><strong>C</strong></em>) is a program that mostly waits to receive messages.</li>
</ul>
<img src="/img/messaging/rabbitmq/rabbitmq-queue-01.png" alt="rabbitmq-queue-01.png">
<br>
<ul>
<li><em><strong>Exchange</strong></em> - on one side it receives messages from <em><strong>producers</strong></em> and the other side it pushes them to <em><strong>queues</strong></em>.</li>
</ul>
<img src="/img/messaging/rabbitmq/rabbitmq-exchange-01.png" alt="rabbitmq-exchange-01.png">
<br>
<p>The <em><strong>exchange</strong></em> must know exactly what to do with a message it receives. Should it be appended to a particular <em><strong>queue</strong></em>? Should it be appended to many <em><strong>queues</strong></em>? Or should it get discarded. The rules for that are defined by the <em><strong>exchange type</strong></em>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exchanges">Exchanges<a href="#exchanges" class="hash-link" aria-label="Direct link to Exchanges" title="Direct link to Exchanges">​</a></h2>
<p>RabbitMQ is a versatile message broker that enables complex routing scenarios between producers and consumers. It plays a pivotal role in modern software architectures, facilitating asynchronous communication and enhancing scalability. At the heart of RabbitMQ’s power are its <strong>exchanges, which control how messages are routed to queues</strong>.</p>
<p>Exchanges are RabbitMQ entities where messages are sent before arriving at queues. The type of exchange determines how a message is routed. There are four main types of exchanges in RabbitMQ:</p>
<ul>
<li><em><strong>direct</strong></em></li>
<li><em><strong>topic</strong></em></li>
<li><em><strong>headers</strong></em></li>
<li><em><strong>fanout</strong></em></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="direct-exchange">Direct Exchange<a href="#direct-exchange" class="hash-link" aria-label="Direct link to Direct Exchange" title="Direct link to Direct Exchange">​</a></h3>
<p>When a message is published to a direct exchange, it includes a <em><strong>routing key</strong></em> — a string identifier. The exchange then forwards the message to all queues that are bound to it with a matching routing key. If no queue matches the routing key, the message is discarded (unless configured otherwise, such as returning the message to the producer or storing it in a dead letter queue).</p>
<ul>
<li><em><strong>Routing Key</strong></em>: A message attribute used by the exchange to route messages to the correct queue. It’s like an address that tells the exchange where to deliver the message.</li>
<li><em><strong>Binding Key</strong></em>: When a queue binds to an exchange, it specifies a binding key. It’s this key that the exchange uses to match against the message’s routing key.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="topic-exchange">Topic Exchange<a href="#topic-exchange" class="hash-link" aria-label="Direct link to Topic Exchange" title="Direct link to Topic Exchange">​</a></h3>
<p>Topic exchanges route messages to queues based on wildcard matches between the routing key and the routing pattern, which is specified by the queue binding. Messages are routed to one or many queues based on a matching between a message routing key and this pattern.</p>
<p>The routing key must be a list of words, delimited by a period (.). Examples are agreements.us and agreements.eu.stockholm which in this case identifies agreements that are set up for a company with offices in lots of different locations. The routing patterns may contain an asterisk (“<em>”) to match a word in a specific position of the routing key (e.g., a routing pattern of &quot;agreements.</em>.<em>.b.</em>&quot; only match routing keys where the first word is &quot;agreements&quot; and the fourth word is &quot;b&quot;). A pound symbol (“#”) indicates a match of zero or more words (e.g., a routing pattern of &quot;agreements.eu.berlin.#&quot; matches any routing keys beginning with &quot;agreements.eu.berlin&quot;).</p>
<p>The consumers indicate which topics they are interested in (like subscribing to a feed for an individual tag). The consumer creates a queue and sets up a binding with a given routing pattern to the exchange. All messages with a routing key that match the routing pattern are routed to the queue and stay there until the consumer consumes the message.</p>
<p>The default exchange AMQP brokers must provide for the topic exchange is &quot;amq.topic&quot;.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="routing-patterns-in-topic-exchange">Routing patterns in Topic Exchange<a href="#routing-patterns-in-topic-exchange" class="hash-link" aria-label="Direct link to Routing patterns in Topic Exchange" title="Direct link to Routing patterns in Topic Exchange">​</a></h4>
<ul>
<li>A routing key in Topic Exchange must consist of Zero or more words delimited by dots e.g. health.education.</li>
<li>A routing key in topic exchange is often called as a routing pattern.</li>
<li>A routing pattern is like a regular expression with only *, . and # allowed.</li>
<li>The symbol star (*) means exactly one word allowed.</li>
<li>Similarly, the symbol hash (#) means zero or more number of words allowed.</li>
<li>The symbol dot (.) means – word delimiter. Multiple key terms are separated by the dot delimiter.</li>
<li>If a routing pattern is health.*, it means any message sent with the routing key health as the first word will reach the queue. For example, health.education will reach this Queue, but sports.health will not work.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="headers-exchange">Headers Exchange<a href="#headers-exchange" class="hash-link" aria-label="Direct link to Headers Exchange" title="Direct link to Headers Exchange">​</a></h3>
<p>A headers exchange routes messages based on arguments containing headers and optional values. Headers exchanges are very similar to topic exchanges, but route messages based on header values instead of routing keys. A message matches if the value of the header equals the value specified upon binding.</p>
<p>A special argument named &quot;x-match&quot;, added in the binding between exchange and queue, specifies if all headers must match or just one. Either any common header between the message and the binding count as a match, or all the headers referenced in the binding need to be present in the message for it to match. The &quot;x-match&quot; property can have two different values: &quot;any&quot; or &quot;all&quot;, where &quot;all&quot; is the default value. A value of &quot;all&quot; means all header pairs (key, value) must match, while value of &quot;any&quot; means at least one of the header pairs must match. Headers can be constructed using a wider range of data types, integer or hash for example, instead of a string. The headers exchange type (used with the binding argument &quot;any&quot;) is useful for directing messages which contain a subset of known (unordered) criteria.</p>
<p>The default exchange AMQP brokers must provide for the topic exchange is &quot;amq.headers&quot;.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-headers-matching-algorithm">The Headers matching algorithm<a href="#the-headers-matching-algorithm" class="hash-link" aria-label="Direct link to The Headers matching algorithm" title="Direct link to The Headers matching algorithm">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- There are 2 types of headers matching allowed which are any (similar to logical OR) or all (similar to logical AND).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- They are represented in the bindings as { &quot;x-match&quot;, &quot;any&quot; ..} or { “x-match”, “all” ..}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- The x-match = any means, a message sent to the Exchange should contain at least one of the headers that Queue is linked with, then the message will be routed to the Queue.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- On the other hand, if a queue is bound with headers has x-match = all, messages that have all of its listed headers will be forwarded to the Queue.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- You can see in the above diagram if a message with header {&quot;h1&quot;: &quot;Header1&quot;} is sent to my-header-exchange, it will be routed to both HealthQ and EducationQ.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Only when the message has both the h1 and h2 headers with correct values, it will be forwarded to SportsQ, HealthQ and EducationQ as well.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fanout-exchange">Fanout Exchange<a href="#fanout-exchange" class="hash-link" aria-label="Direct link to Fanout Exchange" title="Direct link to Fanout Exchange">​</a></h3>
<p>A fanout exchange copies and routes a received message to all queues that are bound to it regardless of routing keys or pattern matching as with direct and topic exchanges. The keys provided will simply be ignored.</p>
<p>Fanout exchanges can be useful when the same message needs to be sent to one or more queues with consumers who may process the same message in different ways.</p>
<p>The image to the right (Fanout Exchange) shows an example where a message received by the exchange is copied and routed to all three queues bound to the exchange. It could be sport or weather updates that should be sent out to each connected mobile device when something happens, for instance.</p>
<p>The default exchange AMQP brokers must provide for the topic exchange is &quot;amq.fanout&quot;.</p>
<hr>
<br>
<br>
<!-- -->
<section class="row"><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/messaging/rabbitmq/docker-rabbitmq"><h2 class="text--truncate cardTitle_rnsV" title="Docker RabbitMQ">📄️<!-- --> <!-- -->Docker RabbitMQ</h2><p class="text--truncate cardDescription_PWke" title="Defaults :">Defaults :</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/messaging/rabbitmq/examples"><h2 class="text--truncate cardTitle_rnsV" title="Examples">🗃️<!-- --> <!-- -->Examples</h2><p class="text--truncate cardDescription_PWke" title="6 items">6 items</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/messaging/rabbitmq/references"><h2 class="text--truncate cardTitle_rnsV" title="References">📄️<!-- --> <!-- -->References</h2><p class="text--truncate cardDescription_PWke" title="https://www.rabbitmq.com/">https://www.rabbitmq.com/</p></a></article></section></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/messaging/kafka/references"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">References</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/messaging/rabbitmq/docker-rabbitmq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Docker RabbitMQ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#terminology" class="table-of-contents__link toc-highlight">Terminology</a></li><li><a href="#queue" class="table-of-contents__link toc-highlight">Queue</a></li><li><a href="#exchanges" class="table-of-contents__link toc-highlight">Exchanges</a><ul><li><a href="#direct-exchange" class="table-of-contents__link toc-highlight">Direct Exchange</a></li><li><a href="#topic-exchange" class="table-of-contents__link toc-highlight">Topic Exchange</a></li><li><a href="#headers-exchange" class="table-of-contents__link toc-highlight">Headers Exchange</a></li><li><a href="#fanout-exchange" class="table-of-contents__link toc-highlight">Fanout Exchange</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://netty.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Netty Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/reactive-streams/reactive-streams-jvm?tab=readme-ov-file" target="_blank" rel="noopener noreferrer" class="footer__link-item">reactive-streams-jvm <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://pages.github.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Pages<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">License</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png" alt="CC BY-SA License" height="40px" width="114px"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 jreact.com</div></div></div></footer></div>
</body>
</html>