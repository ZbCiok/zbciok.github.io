<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-auxiliary-software/kerberos" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Kerberos | Machine Learning &amp; Big Data &amp; Reactive Programming</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zbciok.github.io/docs/auxiliary-software/kerberos"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Kerberos | Machine Learning &amp; Big Data &amp; Reactive Programming"><meta data-rh="true" name="description" content="https://web.mit.edu/kerberos/"><meta data-rh="true" property="og:description" content="https://web.mit.edu/kerberos/"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zbciok.github.io/docs/auxiliary-software/kerberos"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/auxiliary-software/kerberos" hreflang="en"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/auxiliary-software/kerberos" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Machine Learning &amp; Big Data &amp; Reactive Programming RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Machine Learning &amp; Big Data &amp; Reactive Programming Atom Feed"><link rel="stylesheet" href="/assets/css/styles.4b0135be.css">
<script src="/assets/js/runtime~main.442a0d6d.js" defer="defer"></script>
<script src="/assets/js/main.2f97b17b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="RP" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.ico" alt="RP" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://jreact.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">jreact.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/streams">Streams</a><button aria-label="Expand sidebar category &#x27;Streams&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/project-reactor">Project Reactor</a><button aria-label="Expand sidebar category &#x27;Project Reactor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/smallrye-mutiny">SmallRye Mutiny</a><button aria-label="Expand sidebar category &#x27;SmallRye Mutiny&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vertx">VERT.X</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/aws">AWS</a><button aria-label="Expand sidebar category &#x27;AWS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/quarkus">Quarkus</a><button aria-label="Expand sidebar category &#x27;Quarkus&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/spring">Spring</a><button aria-label="Expand sidebar category &#x27;Spring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/messaging-1">Messaging</a><button aria-label="Expand sidebar category &#x27;Messaging&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/apache-flink">Apache Flink</a><button aria-label="Expand sidebar category &#x27;Apache Flink&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/apache-hadoop">Apache Hadoop</a><button aria-label="Expand sidebar category &#x27;Apache Hadoop&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/apache-spark">Apache Spark</a><button aria-label="Expand sidebar category &#x27;Apache Spark&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/artificial-intelligence/">Artificial Intelligence</a><button aria-label="Expand sidebar category &#x27;Artificial Intelligence&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/auxiliary-software">Auxiliary</a><button aria-label="Collapse sidebar category &#x27;Auxiliary&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auxiliary-software/big-data">Big  Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auxiliary-software/datasets">Datasets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auxiliary-software/docker">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auxiliary-software/dynamodb-admin">DynamoDB Admin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auxiliary-software/jupyter-anaconda">Jupyter / Anaconda</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/auxiliary-software/kerberos">Kerberos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auxiliary-software/localstack">LocalStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auxiliary-software/native-executable">Native Executable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auxiliary-software/references">References</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/auxiliary-software"><span itemprop="name">Auxiliary</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Kerberos</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Kerberos</h1></header>
<p><em><strong><a href="https://web.mit.edu/kerberos/" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos/</a></strong></em><br></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sso-single-sign-on">SSO (single sign-on):<a href="#sso-single-sign-on" class="hash-link" aria-label="Direct link to SSO (single sign-on):" title="Direct link to SSO (single sign-on):">​</a></h4>
<ul>
<li>Less time spent managing credentials with a single sign-in.</li>
<li>Only one master password instead of multiple credentials vulnerable to password attacks.</li>
<li>Easy access to apps needed for work.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kerberos-provides-sso-capabilities-tailored-for-authentication-across-networked-applications-and-services">Kerberos provides SSO capabilities tailored for authentication across networked applications and services.<a href="#kerberos-provides-sso-capabilities-tailored-for-authentication-across-networked-applications-and-services" class="hash-link" aria-label="Direct link to Kerberos provides SSO capabilities tailored for authentication across networked applications and services." title="Direct link to Kerberos provides SSO capabilities tailored for authentication across networked applications and services.">​</a></h4>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kerberos-1">Kerberos<a href="#kerberos-1" class="hash-link" aria-label="Direct link to Kerberos" title="Direct link to Kerberos">​</a></h2>
<img src="/img/auxiliary-software/kerberos/kerberos-02.jpg" width="800 px" alt="kerberos-02.jpg">
<!-- -->
<p><strong>In a Kerberos system, once you log in, you get a special ticket that lets you go into different places without entering your password each time.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="components-of-a-kerberos">Components of a Kerberos<a href="#components-of-a-kerberos" class="hash-link" aria-label="Direct link to Components of a Kerberos" title="Direct link to Components of a Kerberos">​</a></h3>
<ul>
<li>
<p><strong>Kerberos Principal</strong>:<br>
<strong>A Kerberos principal is a unique identity to which Kerberos can assign tickets.</strong> Principals can have an arbitrary number of components. Each component is separated by a component separator, generally <strong>/</strong>. The last component is the realm, separated from the rest of the principal by the realm separator, generally @. <strong>If there is no realm component in the principal, then it will be assumed that the principal is in the default realm for the context in which it is being used.</strong></p>
<p>Traditionally, a principal is divided into three parts: the <strong>primary</strong>, the <strong>instance</strong>, and the <strong>realm</strong>. The format of a typical Kerberos V5 principal is <strong>primary/instance@REALM</strong>.</p>
<ul>
<li>The <strong>primary</strong> is the first part of the principal. In the case of a user, it&#x27;s the same as your username. For a host, the primary is the word host.</li>
<li>The <strong>instance</strong> is an optional string that qualifies the primary. The instance is separated from the primary by a slash (/). In the case of a user, the instance is usually null, but a user might also have an additional principal, with an instance called admin, which he/she uses to administrate a database. The principal <code>jennifer@ATHENA.MIT.EDU</code> is completely separate from the principal jennifer/admin@ATHENA.MIT.EDU, with a separate password, and separate permissions. In the case of a host, the instance is the fully qualified hostname, e.g., daffodil.mit.edu.</li>
<li>The <strong>realm</strong> is your Kerberos realm. In most cases, your Kerberos realm is your domain name, in upper-case letters. For example, the machine daffodil.example.com would be in the realm EXAMPLE.COM.</li>
</ul>
</li>
<li>
<p><strong>User and Service Principal</strong> names:<br>
In Kerberos, user and service principal names follow the format of <strong>username@REALM</strong> or <strong>service/instance@REALM</strong>, where REALM is the Kerberos realm or domain name, and username or service/instance is the user or service identifier.</p>
<ul>
<li><strong>User Principal Name (UPN)</strong>: Kerberos uses UPNs to identify users, which are in the format username@REALM.</li>
<li><strong>Service Principal Name (SPN)</strong>: SPNs identify services and follow the format service/instance@REALM.</li>
<li><strong>Realm</strong>: The realm is the domain or Kerberos domain that the user or service belongs to.</li>
<li>Examples:<!-- -->
<ul>
<li>User: <code>jdoe@SALES.WIDGET.COM</code></li>
<li>Service: <code>WAS/test.austin.ibm.com@AUSTIN.IBM.COM</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Key Distribution Center</strong> (<strong>KDC</strong>): The KDC acts as a trusted third party, managing authentication services using symmetric-key cryptography. All network members, including clients and servers, are registered with the KDC, which securely maintains their secret keys.</p>
</li>
<li>
<p><strong>Ticket</strong>: A ticket serves as an encrypted message providing evidence that a subject is authorized to access a specific object. Also known as a service ticket (ST), users request tickets to access files or other objects. Tickets have set lifetimes and usage parameters, requiring renewal or reissuing once expired.
Your Kerberos credentials, or “tickets”, are a set of electronic information that can be used to verify your identity. Your Kerberos tickets may be stored in a file, or they may exist only in memory.</p>
<p>The first ticket you obtain is a <strong>ticket-granting ticket (TGT)</strong>, which permits you to obtain additional tickets. These additional tickets give you permission for specific services. The requesting and granting of these additional tickets happens transparently.</p>
<p>A good analogy for the ticket-granting ticket is a three-day ski pass that is good at four different resorts. You show the pass at whichever resort you decide to go to (until it expires), and you receive a lift ticket for that resort. Once you have the lift ticket, you can ski all you want at that resort. If you go to another resort the next day, you once again show your pass, and you get an additional lift ticket for the new resort. The difference is that the Kerberos V5 programs notice that you have the weekend ski pass, and get the lift ticket for you, so you don&#x27;t have to perform the transactions yourself.</p>
</li>
<li>
<p><strong>Base Master Key Name</strong><br>
The master key is the foundation of Kerberos security, used to encrypt and decrypt the KDC database, which stores the keys of all principals in the realm.</p>
<p>In Kerberos, the &quot;base master key name&quot; or &quot;master key principal&quot; is typically formatted as K/M@REALM, where K/M represents the KDC (Key Distribution Center) and @REALM specifies the Kerberos realm.</p>
<p><strong>To reset the Kerberos principal database (typically located in /var/lib/krb5kdc/principal), you&#x27;ll need to use the kdb5_util tool to destroy and recreate the database.</strong></p>
</li>
<li>
<p><strong>Ticket-Granting Ticket</strong> (<strong>TGT</strong>): The TGT offers proof that a subject has authenticated through the KDC and is authorized to request tickets for accessing various objects. Encrypted and containing a symmetric key, expiration time, and user’s IP address, the TGT is presented when requesting tickets for object access.</p>
</li>
<li>
<p><strong>krbtgt</strong>: KRBTGT stands for &quot;Kerberos Ticket-Granting Ticket&quot;. The <em><strong>krbtgt</strong></em> account is used by the KDC to encrypt and sign Kerberos tickets, specifically Ticket Granting Tickets (TGTs), which are used for initial authentication.</p>
</li>
<li>
<p><strong>Kerberos Authentication Server</strong>: The authentication server encompasses the functions of the KDC, housing both a ticket-granting service (TGS) and an authentication service (AS).</p>
</li>
<li>
<p><strong>Ticket Granting Service</strong> (<strong>TGS</strong>):</p>
<ul>
<li>To start the authentication process, the client sends a request to the authentication server for a specific user principal. This request is sent without encryption. No secure information is included in the request, so it is not necessary to use encryption.</li>
<li>When the request is received by the authentication service, the principal name of the user is looked up in the KDC database. If a principal matches the entry in the database, the authentication service obtains the private key for that principal. The authentication service then generates a session key to be used by the client and the ticket-granting service (call it Session key 1) and a ticket for the ticket-granting service (Ticket 1). This ticket is also known as the ticket-granting ticket (TGT). Both the session key and the ticket are encrypted by using the user&#x27;s private key, and the information is sent back to the client.</li>
<li>The client uses this information to decrypt Session Key 1 and Ticket 1, by using the private key for the user principal. Because the private key should only be known by the user and the KDC database, the information in the packet should be safe. The client stores the information in the credentials cache.</li>
</ul>
</li>
<li>
<p><strong>Kerberos Realm</strong>: In Kerberos terminology, a realm is a logically controlled area, like a domain or network, governed by Kerberos. Principals within the realm can request tickets from Kerberos, and the system can issue tickets to these principals within the defined realm.</p>
</li>
<li>
<p><strong>Keytab name</strong>: FILE:/etc/krb5.keytab. This is the system keytab file, which is the default file for all keys that might be needed for services on this host, and we can list them with <strong>klist -k</strong>.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-kerberos-on-a-local-ubuntu-machine">Setup Kerberos on a local Ubuntu machine<a href="#setup-kerberos-on-a-local-ubuntu-machine" class="hash-link" aria-label="Direct link to Setup Kerberos on a local Ubuntu machine" title="Direct link to Setup Kerberos on a local Ubuntu machine">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-kerberos-packages">1. Install Kerberos Packages<a href="#1-install-kerberos-packages" class="hash-link" aria-label="Direct link to 1. Install Kerberos Packages" title="Direct link to 1. Install Kerberos Packages">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install krb5-kdc krb5-admin-server krb5-user -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-configure-kerberos-realms">2. Configure Kerberos Realms<a href="#2-configure-kerberos-realms" class="hash-link" aria-label="Direct link to 2. Configure Kerberos Realms" title="Direct link to 2. Configure Kerberos Realms">​</a></h3>
<p>Edit the Kerberos configuration file <em><strong>/etc/krb5.conf</strong></em> to define the realms and the servers that will be used for authentication:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo nano /etc/krb5.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Under the <strong>[realms]</strong> section, specify your domain:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[realms]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> YOURDOMAIN.COM = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  kdc = your.server.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  admin_server = your.server.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Replace YOURDOMAIN.COM with your desired domain name (e.g., EXAMPLE.COM) and your.server.com with the hostname of your Kerberos server (or localhost if running locally). <br>
<strong>In our case:</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[realms]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> JREACT.EXAMPLE.COM = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  kdc = localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  admin_server = localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>This package contains the administrative tools required to run the Kerberos master server.</li>
<li>Installing this package does not automatically set up a Kerberos realm.  This can be done later by running the &quot;krb5_newrealm&quot; command</li>
<li>Please also read the <code>/usr/share/doc/krb5-kdc/README.KDC</code> file and the administration guide found in the krb5-doc package</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-create-the-kerberos-database">3. Create the Kerberos Database<a href="#3-create-the-kerberos-database" class="hash-link" aria-label="Direct link to 3. Create the Kerberos Database" title="Direct link to 3. Create the Kerberos Database">​</a></h3>
<p>Initialize the Kerberos database with the following command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo krb5_newrealm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">krb5_newrealm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This script should be run on the master KDC/admin server to initialize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a Kerberos realm.  It will ask you to type in a master key password.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This password will be used to generate a key that is stored in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/etc/krb5kdc/stash.  You should try to remember this password, but it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">is much more important that it be a strong password than that it be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">remembered.  However, if you lose the password and /etc/krb5kdc/stash,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">you cannot decrypt your Kerberos database.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loading random data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Initializing database &#x27;/var/lib/krb5kdc/principal&#x27; for realm &#x27;JREACT.EXAMPLE.COM&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">master key name &#x27;K/M@JREACT.EXAMPLE.COM&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You will be prompted for the database Master Password.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">It is important that you NOT FORGET this password.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter KDC database master key:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Enter a secure password when prompted; this will be the master password for the Kerberos database.</p>
<p><em><strong>Initializing database &#x27;/var/lib/krb5kdc/principal&#x27; for realm &#x27;JREACT.EXAMPLE.COM&#x27;, <br>
master key name &#x27;K/M@JREACT.EXAMPLE.COM&#x27;</strong></em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-create-a-keytab-file">4. Create a Keytab File<a href="#4-create-a-keytab-file" class="hash-link" aria-label="Direct link to 4. Create a Keytab File" title="Direct link to 4. Create a Keytab File">​</a></h3>
<p>A keytab (short for “key table”) stores long-term keys for one or more principals.<br>
A keytab can be displayed using the <em><strong>klist</strong></em> command with the <em><strong>-k</strong></em> option.<br>
Keytabs can be created or appended to by extracting keys from the KDC database using the <em><strong>kadmin</strong></em> <em><strong>ktadd</strong></em> command. Keytabs can be manipulated using the <em><strong>ktutil</strong></em> and <em><strong>k5srvutil</strong></em> commands.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="use-the-kadmin">Use the <em><strong>kadmin</strong></em><a href="#use-the-kadmin" class="hash-link" aria-label="Direct link to use-the-kadmin" title="Direct link to use-the-kadmin">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kadmin.local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kadmin.local: ktadd -k /etc/krb5/admin.keytab -norandkey admin/admin@JREACT.EXAMPLE.COM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kadmin.local: exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kinit -k -t  /etc/krb5/admin.keytab admin/admin@JREACT.EXAMPLE.COM</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">klist</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="output">Output:<a href="#output" class="hash-link" aria-label="Direct link to Output:" title="Direct link to Output:">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ticket cache: FILE:/tmp/krb5cc_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default principal: admin/admin@JREACT.EXAMPLE.COM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Valid starting       Expires              Service principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">04/10/2025 10:23:20  04/10/2025 20:23:20  krbtgt/JREACT.EXAMPLE.COM@JREACT.EXAMPLE.COM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">renew until 04/11/2025 10:23:19</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>see: <a href="https://web.mit.edu/kerberos/krb5-1.5/krb5-1.5.4/doc/krb5-user/Viewing-Your-Tickets-with-klist.html" target="_blank" rel="noopener noreferrer"><em><strong>Viewing Your Tickets with klist</strong></em></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-modify-access-controls">5. Modify Access Controls<a href="#5-modify-access-controls" class="hash-link" aria-label="Direct link to 5. Modify Access Controls" title="Direct link to 5. Modify Access Controls">​</a></h3>
<p>To allow your admin principal to manage the Kerberos database, edit <code>/etc/krb5kdc/kadm5.acl</code>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo nano /etc/krb5kdc/kadm5.acl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Add the following line, replacing <strong>youradminusername</strong> with your actual admin username:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*/admin@JREACT.EXAMPLE.COM    *</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-start-and-enable-kerberos-services">6. Start and Enable Kerberos Services<a href="#6-start-and-enable-kerberos-services" class="hash-link" aria-label="Direct link to 6. Start and Enable Kerberos Services" title="Direct link to 6. Start and Enable Kerberos Services">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl enable krb5-kdc krb5-admin-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl start krb5-kdc krb5-admin-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-test">7. Test<a href="#7-test" class="hash-link" aria-label="Direct link to 7. Test" title="Direct link to 7. Test">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">klist</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ticket cache: FILE:/tmp/krb5cc_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default principal: admin/admin@JREACT.EXAMPLE.COM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Valid starting       Expires              Service principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">04/10/2025 10:23:20  04/10/2025 20:23:20  krbtgt/JREACT.EXAMPLE.COM@JREACT.EXAMPLE.COM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	renew until 04/11/2025 10:23:19</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ticket-management">Ticket Management<a href="#ticket-management" class="hash-link" aria-label="Direct link to Ticket Management" title="Direct link to Ticket Management">​</a></h2>
<p><em><strong><a href="https://web.mit.edu/kerberos/krb5-1.12/doc/user/tkt_mgmt.html" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos/krb5-1.12/doc/user/tkt_mgmt.html</a></strong></em></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="selected-commands-and-utils">Selected Commands and Utils<a href="#selected-commands-and-utils" class="hash-link" aria-label="Direct link to Selected Commands and Utils" title="Direct link to Selected Commands and Utils">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kdb5_util">kdb5_util<a href="#kdb5_util" class="hash-link" aria-label="Direct link to kdb5_util" title="Direct link to kdb5_util">​</a></h3>
<p>kdb5_util is a Kerberos utility used for managing the KDC database, allowing tasks like creating, destroying, dumping, and loading databases, as well as managing the Kerberos master key.</p>
<p><strong>Key Functions and Commands:</strong></p>
<ul>
<li><strong>Creating a Database</strong>: Use the <em><strong>kdb5_util create</strong></em> command to initialize a new KDC database.</li>
<li><strong>Creating a Stash File</strong>: Use <em><strong>kdb5_util create -s</strong></em> to create a stash file, which stores the master key password securely, preventing the need to enter it every time the KDC starts.</li>
<li><strong>Destroying a Database</strong>: Use <em><strong>kdb5_util destroy</strong></em> to delete the KDC database.</li>
<li><strong>Dumping and Loading Databases</strong>: Use <em><strong>kdb5_util dump</strong></em> to export the database to a file and kdb5_util load to import it.</li>
<li><strong>Stashing and Unstashing the Master Key</strong>: Use <em><strong>kdb5_util stash</strong></em> to create or update the master key stash file, and kdb5_util unstash to remove it.</li>
<li><strong>Master Key Rollover</strong>: Use <em><strong>kdb5_util use_mkey</strong></em> to start using a new master key version and kdb5_util update_princ_encryption to re-encrypt all keys in the new master key.</li>
<li><strong>Purging Old Master Keys</strong>: Use <em><strong>kdb5_util purge_mkeys</strong></em> to clean up old master keys.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ktutil">ktutil<a href="#ktutil" class="hash-link" aria-label="Direct link to ktutil" title="Direct link to ktutil">​</a></h3>
<p><em><strong><a href="https://web.mit.edu/kerberos/krb5-1.12/doc/admin/admin_commands/ktutil.html" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos/krb5-1.12/doc/admin/admin_commands/ktutil.html</a></strong></em><br><br>
The ktutil command invokes a command interface from which an administrator can read, write, or edit entries in a keytab. (Kerberos V4 srvtab files are no longer supported.)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="keytab">keytab<a href="#keytab" class="hash-link" aria-label="Direct link to keytab" title="Direct link to keytab">​</a></h3>
<p>In Kerberos, a keytab file is a file containing encrypted credentials (keys) for specific Kerberos principals, enabling systems to authenticate without requiring password input, often used for service-to-service or automated authentication.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example:<a href="#example" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ktutil:  add_entry -password -p datanode/localhost@JREACT.EXAMPLE.COM -k 1 -e arcfour-hmac-md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ktutil:  add_entry -password -p datanode/localhost@JREACT.EXAMPLE.COM -k 1 -e arcfour-hmac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ktutil:  add_entry -password -p datanode/localhost@JREACT.EXAMPLE.COM -k 1 -e arcfour-hmac-exp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ktutil:  write_kt /etc/krb5kdc/kadm5.keytab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kinit -k -t /etc/krb5kdc/kadm5.keytab datanode/localhost@JREACT.EXAMPLE.COM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kadmin.local: list_principals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">klist  -kte /etc/krb5kdc/kadm5.keytab</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A keytab file is a file that stores long-term keys for one or more Kerberos principals.</p>
<p>It allows Kerberos clients (services or applications) to authenticate to a Kerberos Key Distribution Center (KDC) without needing to interactively enter a password</p>
<p>Each entry in a keytab file typically contains:</p>
<ul>
<li>A Kerberos principal name (e.g., a service account or user account).</li>
<li>An encrypted key derived from the principal&#x27;s password.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="klist">klist<a href="#klist" class="hash-link" aria-label="Direct link to klist" title="Direct link to klist">​</a></h3>
<p><a href="https://web.mit.edu/kerberos/krb5-1.5/krb5-1.5.4/doc/krb5-user/Viewing-Your-Tickets-with-klist.html" target="_blank" rel="noopener noreferrer"><em><strong>Viewing Your Tickets with klist</strong></em></a></p>
<p><em><strong>klist</strong></em> lists the Kerberos principal and Kerberos tickets held in a credentials cache, or the keys held in a keytab file.<br>
<em><strong>klist</strong></em> shows the validity of your Kerberos ticket and when it will expire along with ticket cache and principal.
<strong>When you first obtain tickets, you will have only the ticket-granting ticket.</strong> The listing would look like this:</p>
<p><strong>Tickets in cache:</strong><br></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">klist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ticket cache: /tmp/krb5cc_ttypa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default principal: jennifer@ATHENA.MIT.EDU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Valid starting     Expires            Service principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">06/07/04 19:49:21  06/08/04 05:49:19  krbtgt/ATHENA.MIT.EDU@ATHENA.MIT.EDU</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If jennifer connected to the machine daffodil.mit.edu, and then typed klist again, she would have gotten the following result:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">klist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ticket cache: /tmp/krb5cc_ttypa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default principal: jennifer@ATHENA.MIT.EDU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Valid starting     Expires            Service principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">06/07/04 19:49:21  06/08/04 05:49:19  krbtgt/ATHENA.MIT.EDU@ATHENA.MIT.EDU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">06/07/04 20:22:30  06/08/04 05:49:19  host/daffodil.mit.edu@ATHENA.MIT.EDU</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Suppose your Kerberos tickets allow you to log into a host in another domain, such as trillium.example.com, which is also in another Kerberos realm, EXAMPLE.COM. If you telnet to this host, you will receive a ticket-granting ticket for the realm EXAMPLE.COM, plus the new host ticket for trillium.example.com. klist will now show:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">klist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ticket cache: /tmp/krb5cc_ttypa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default principal: jennifer@ATHENA.MIT.EDU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Valid starting     Expires            Service principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">06/07/04 19:49:21  06/08/04 05:49:19  krbtgt/ATHENA.MIT.EDU@ATHENA.MIT.EDU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">06/07/04 20:22:30  06/08/04 05:49:19  host/daffodil.mit.edu@ATHENA.MIT.EDU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">06/07/04 20:24:18  06/08/04 05:49:19  krbtgt/EXAMPLE.COM@ATHENA.MIT.EDU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">06/07/04 20:24:18  06/08/04 05:49:19  host/trillium.example.com@ATHENA.MIT.EDU</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Tickets in keytab file:</strong><br></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Example:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">klist  -kte /etc/krb5/admin.keytab</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Output:</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">KVNO Timestamp           Principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---- ------------------- ------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1 04/10/2025 18:03:59 admin/admin@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   1 04/10/2025 18:03:59 admin/admin@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-to-database-or-modifying-principals">Adding to Database or Modifying Principals<a href="#adding-to-database-or-modifying-principals" class="hash-link" aria-label="Direct link to Adding to Database or Modifying Principals" title="Direct link to Adding to Database or Modifying Principals">​</a></h3>
<p><em><strong><a href="https://web.mit.edu/kerberos/krb5-1.5/krb5-1.5.4/doc/krb5-admin/Adding-or-Modifying-Principals.html" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos/krb5-1.5/krb5-1.5.4/doc/krb5-admin/Adding-or-Modifying-Principals.html</a></strong></em> <br><br>
To add a principal to the database, use the kadmin add_principal command, which requires the “add” administrative privilege.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-principals-to-keytabs">Adding Principals to Keytabs<a href="#adding-principals-to-keytabs" class="hash-link" aria-label="Direct link to Adding Principals to Keytabs" title="Direct link to Adding Principals to Keytabs">​</a></h3>
<p><em><strong><a href="https://web.mit.edu/kerberos/krb5-1.4/krb5-1.4.4/doc/krb5-admin/Adding-Principals-to-Keytabs.html" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos/krb5-1.4/krb5-1.4.4/doc/krb5-admin/Adding-Principals-to-Keytabs.html</a></strong></em><br><br>
To generate a keytab, or to add a principal to an existing keytab, use the ktadd command from kadmin.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delete-a-principal-from-a-keytab">Delete a principal from a keytab<a href="#delete-a-principal-from-a-keytab" class="hash-link" aria-label="Direct link to Delete a principal from a keytab" title="Direct link to Delete a principal from a keytab">​</a></h3>
<p><em><strong><a href="https://web.mit.edu/kerberos//krb5-1.19/doc/admin/enctypes.html" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos//krb5-1.19/doc/admin/enctypes.html</a></strong></em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ktremove">ktremove<a href="#ktremove" class="hash-link" aria-label="Direct link to ktremove" title="Direct link to ktremove">​</a></h4>
<ul>
<li>q - run in quiet mode.</li>
<li>all - remove all entries for the specified principal</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">klist  -kte /etc/krb5kdc/kadm5.keytab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Keytab name: FILE:/etc/krb5kdc/kadm5.keytab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KVNO Timestamp           Principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---- ------------------- ------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:35:11 hdfs/localhost@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:35:11 hdfs/localhost@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:36:02 host/localhost@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:36:02 host/localhost@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:36:42 hbase/localhost@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:36:42 hbase/localhost@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kadmin.local:  ktremove -k /etc/krb5kdc/kadm5.keytab -q hdfs/localhost@JREACT.EXAMPLE.COM # all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="output-1">Output:<a href="#output-1" class="hash-link" aria-label="Direct link to Output:" title="Direct link to Output:">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">klist  -kte /etc/krb5kdc/kadm5.keytab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Keytab name: FILE:/etc/krb5kdc/kadm5.keytab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KVNO Timestamp           Principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---- ------------------- ------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:36:02 host/localhost@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:36:02 host/localhost@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:36:42 hbase/localhost@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2 04/11/2025 11:36:42 hbase/localhost@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kinit">kinit<a href="#kinit" class="hash-link" aria-label="Direct link to kinit" title="Direct link to kinit">​</a></h3>
<p><em><strong><a href="https://web.mit.edu/kerberos/krb5-1.12/doc/user/user_commands/kinit.html" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos/krb5-1.12/doc/user/user_commands/kinit.html</a></strong></em><br> <br>
If you do not have a ticket or is expired, you can get it using the kinit command. Kinit will get and cache the ticket for a principal.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enctypes">enctypes<a href="#enctypes" class="hash-link" aria-label="Direct link to enctypes" title="Direct link to enctypes">​</a></h3>
<p><em><strong><a href="https://web.mit.edu/kerberos/krb5-1.5/krb5-1.5.4/doc/krb5-admin/Supported-Encryption-Types.html#Supported-Encryption-Types" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos/krb5-1.5/krb5-1.5.4/doc/krb5-admin/Supported-Encryption-Types.html#Supported-Encryption-Types</a></strong></em><br><br>
<em><strong><a href="https://web.mit.edu/kerberos//krb5-1.19/doc/admin/enctypes.html" target="_blank" rel="noopener noreferrer">https://web.mit.edu/kerberos//krb5-1.19/doc/admin/enctypes.html</a></strong></em> <br></p>
<p>Any tag in the configuration files which requires a list of encryption types can be set to some combination of the following strings.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">des-cbc-crc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DES cbc mode with CRC-32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">des-cbc-md4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DES cbc mode with RSA-MD4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">des-cbc-md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DES cbc mode with RSA-MD5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">des3-cbc-sha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">des3-hmac-sha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">des3-cbc-sha1-kd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    triple DES cbc mode with HMAC/sha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">des-hmac-sha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DES with HMAC/sha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aes256-cts-hmac-sha1-96</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aes256-cts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AES-256 CTS mode with 96-bit SHA-1 HMAC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aes128-cts-hmac-sha1-96</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aes128-cts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AES-128 CTS mode with 96-bit SHA-1 HMAC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arcfour-hmac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rc4-hmac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arcfour-hmac-md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RC4 with HMAC/MD5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arcfour-hmac-exp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rc4-hmac-exp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arcfour-hmac-md5-exp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exportable RC4 with HMAC/MD5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="destroy">destroy<a href="#destroy" class="hash-link" aria-label="Direct link to destroy" title="Direct link to destroy">​</a></h3>
<p>When you are logging out of the system or switching to some other user and want to destroy your active Kerberos ticket by deleting the credential cache, use kdestoy.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kdestroy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="krb5-config---all">krb5-config --all<a href="#krb5-config---all" class="hash-link" aria-label="Direct link to krb5-config --all" title="Direct link to krb5-config --all">​</a></h3>
<p>In order to get the details on installed Kerberos libraries, use krb5-config command.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">krb5-config --all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kerberos-uninstall-from-ubuntu">Kerberos Uninstall from Ubuntu<a href="#kerberos-uninstall-from-ubuntu" class="hash-link" aria-label="Direct link to Kerberos Uninstall from Ubuntu" title="Direct link to Kerberos Uninstall from Ubuntu">​</a></h2>
<ul>
<li>
<p>Check which Kerberos packages are installed:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dpkg -l | grep krb5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Uninstall the Kerberos packages:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt remove --purge krb5-user krb5-config libkrb5-3 libkrb5support0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Adjust based on the actual packages installed.</p>
</li>
<li>
<p>Clean up residual config files and dependencies:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt autoremove --purge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Optional: Delete Kerberos config files manually (if still present):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /etc/krb5.conf /etc/krb5.keytab /etc/krb5kdc /var/lib/krb5kdc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/auxiliary-software/jupyter-anaconda"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Jupyter / Anaconda</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/auxiliary-software/localstack"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">LocalStack</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#kerberos-1" class="table-of-contents__link toc-highlight">Kerberos</a><ul><li><a href="#components-of-a-kerberos" class="table-of-contents__link toc-highlight">Components of a Kerberos</a></li></ul></li><li><a href="#setup-kerberos-on-a-local-ubuntu-machine" class="table-of-contents__link toc-highlight">Setup Kerberos on a local Ubuntu machine</a><ul><li><a href="#1-install-kerberos-packages" class="table-of-contents__link toc-highlight">1. Install Kerberos Packages</a></li><li><a href="#2-configure-kerberos-realms" class="table-of-contents__link toc-highlight">2. Configure Kerberos Realms</a></li><li><a href="#3-create-the-kerberos-database" class="table-of-contents__link toc-highlight">3. Create the Kerberos Database</a></li><li><a href="#4-create-a-keytab-file" class="table-of-contents__link toc-highlight">4. Create a Keytab File</a></li><li><a href="#5-modify-access-controls" class="table-of-contents__link toc-highlight">5. Modify Access Controls</a></li><li><a href="#6-start-and-enable-kerberos-services" class="table-of-contents__link toc-highlight">6. Start and Enable Kerberos Services</a></li><li><a href="#7-test" class="table-of-contents__link toc-highlight">7. Test</a></li></ul></li><li><a href="#ticket-management" class="table-of-contents__link toc-highlight">Ticket Management</a></li><li><a href="#selected-commands-and-utils" class="table-of-contents__link toc-highlight">Selected Commands and Utils</a><ul><li><a href="#kdb5_util" class="table-of-contents__link toc-highlight">kdb5_util</a></li><li><a href="#ktutil" class="table-of-contents__link toc-highlight">ktutil</a></li><li><a href="#keytab" class="table-of-contents__link toc-highlight">keytab</a></li><li><a href="#klist" class="table-of-contents__link toc-highlight">klist</a></li><li><a href="#adding-to-database-or-modifying-principals" class="table-of-contents__link toc-highlight">Adding to Database or Modifying Principals</a></li><li><a href="#adding-principals-to-keytabs" class="table-of-contents__link toc-highlight">Adding Principals to Keytabs</a></li><li><a href="#delete-a-principal-from-a-keytab" class="table-of-contents__link toc-highlight">Delete a principal from a keytab</a></li><li><a href="#kinit" class="table-of-contents__link toc-highlight">kinit</a></li><li><a href="#enctypes" class="table-of-contents__link toc-highlight">enctypes</a></li><li><a href="#destroy" class="table-of-contents__link toc-highlight">destroy</a></li><li><a href="#krb5-config---all" class="table-of-contents__link toc-highlight">krb5-config --all</a></li></ul></li><li><a href="#kerberos-uninstall-from-ubuntu" class="table-of-contents__link toc-highlight">Kerberos Uninstall from Ubuntu</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://netty.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Netty Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/reactive-streams/reactive-streams-jvm?tab=readme-ov-file" target="_blank" rel="noopener noreferrer" class="footer__link-item">reactive-streams-jvm <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://pages.github.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Pages<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">License</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png" alt="CC BY-SA License" height="40px" width="114px"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 jreact.com</div></div></div></footer></div>
</body>
</html>