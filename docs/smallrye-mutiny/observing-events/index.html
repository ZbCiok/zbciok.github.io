<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-smallrye-mutiny/observing-events" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Observing Events | jreact.com doc</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zbciok.github.io/docs/smallrye-mutiny/observing-events"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Observing Events | jreact.com doc"><meta data-rh="true" name="description" content="Observing the events emitted by **Uni** and **Multi** instances."><meta data-rh="true" property="og:description" content="Observing the events emitted by **Uni** and **Multi** instances."><link data-rh="true" rel="icon" href="/img/favicon-black.ico"><link data-rh="true" rel="canonical" href="https://zbciok.github.io/docs/smallrye-mutiny/observing-events"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/smallrye-mutiny/observing-events" hreflang="en"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/smallrye-mutiny/observing-events" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="jreact.com doc RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="jreact.com doc Atom Feed"><link rel="stylesheet" href="/assets/css/styles.87e52cca.css">
<script src="/assets/js/runtime~main.50d20685.js" defer="defer"></script>
<script src="/assets/js/main.c6f3898c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon-black.ico" alt="RP" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon-black.ico" alt="RP" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://jreact.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">jreact.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/streams">Streams</a><button aria-label="Expand sidebar category &#x27;Streams&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/project-reactor">Project Reactor</a><button aria-label="Expand sidebar category &#x27;Project Reactor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/smallrye-mutiny">SmallRye Mutiny</a><button aria-label="Collapse sidebar category &#x27;SmallRye Mutiny&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/smallrye-mutiny/smallrye-mutiny-zero">Smallrye Mutiny Zero</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/smallrye-mutiny/observing-events">Observing Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/smallrye-mutiny/uni">Uni</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/smallrye-mutiny/multi">Multi</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/smallrye-mutiny/guides">Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/smallrye-mutiny/implementations">Implementations</a><button aria-label="Expand sidebar category &#x27;Implementations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/auxiliary-software">Auxiliary Software</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/smallrye-mutiny"><span itemprop="name">SmallRye Mutiny</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Observing Events</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Observing Events</h1>
<p>Observing the events emitted by <a href="https://javadoc.io/doc/io.smallrye.reactive/mutiny/latest/io.smallrye.mutiny/io/smallrye/mutiny/Uni.html" target="_blank" rel="noopener noreferrer"><em><strong><strong>Uni</strong></strong></em></a> and <a href="https://javadoc.io/doc/io.smallrye.reactive/mutiny/latest/io.smallrye.mutiny/io/smallrye/mutiny/Multi.html" target="_blank" rel="noopener noreferrer"><em><strong><strong>Multi</strong></strong></em></a> instances.</p>
<p><a href="https://javadoc.io/doc/io.smallrye.reactive/mutiny/latest/io.smallrye.mutiny/io/smallrye/mutiny/Uni.html" target="_blank" rel="noopener noreferrer"><em><strong><strong>Uni</strong></strong></em></a> and <a href="https://javadoc.io/doc/io.smallrye.reactive/mutiny/latest/io.smallrye.mutiny/io/smallrye/mutiny/Multi.html" target="_blank" rel="noopener noreferrer"><em><strong><strong>Multi</strong></strong></em></a> emit events. Your code is going to observe and process these events:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a class="hash-link" aria-label="Direct link to Events" title="Direct link to Events" href="/docs/smallrye-mutiny/observing-events#events">​</a></h2>
<table><thead><tr><th style="text-align:center">Event</th><th style="text-align:center">Uni / Multi</th><th style="text-align:center">Direction</th><th style="text-align:center">Note</th></tr></thead><tbody><tr><td style="text-align:center">item</td><td style="text-align:center">Uni + Multi</td><td style="text-align:center">upstream -&gt; downstream</td><td style="text-align:center">The upstream sent an item.</td></tr><tr><td style="text-align:center">failure</td><td style="text-align:center">Uni + Multi</td><td style="text-align:center">upstream -&gt; downstream</td><td style="text-align:center">The upstream failed.</td></tr><tr><td style="text-align:center">completion</td><td style="text-align:center">Multi</td><td style="text-align:center">upstream -&gt; downstream</td><td style="text-align:center">The upstream completed.</td></tr><tr><td style="text-align:center">subscribe</td><td style="text-align:center">Uni and Multi</td><td style="text-align:center">downstream -&gt; upstream</td><td style="text-align:center">A downstream subscriber is interested in the data.</td></tr><tr><td style="text-align:center">subscription</td><td style="text-align:center">Uni and Multi</td><td style="text-align:center">upstream -&gt; downstream</td><td style="text-align:center">Event happening after a subscribe event to indicate that the upstream acknowledged the subscription.</td></tr><tr><td style="text-align:center">cancellation</td><td style="text-align:center">Uni and Multi</td><td style="text-align:center">downstream -&gt; upstream</td><td style="text-align:center">A downstream subscriber does not want any more events.</td></tr><tr><td style="text-align:center">overflow</td><td style="text-align:center">Multi</td><td style="text-align:center">upstream -&gt; downstream</td><td style="text-align:center">The upstream has emitted more than the downstream can handle.</td></tr><tr><td style="text-align:center">request</td><td style="text-align:center">Multi</td><td style="text-align:center">downstream -&gt; upstream</td><td style="text-align:center">The downstream indicates its capacity to handle n items.</td></tr></tbody></table>
<p>For each kind of event, there is an associated group providing the methods to handle that specific event:
<em><strong>onItem()</strong></em>, <em><strong>onFailure()</strong></em>, <em><strong>onCompletion()</strong></em> and so on.
These groups provide two methods to peek at the various events without impacting its distribution:
<em><strong>invoke(...)</strong></em> and <em><strong>call(...)</strong></em>.
It does not transform the received event; it notifies you that something happened and let you react.
Once this reaction completes, the event is propagated downstream or upstream depending on the direction of the event.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-invoke-method">The <em><strong>invoke</strong></em> method<a class="hash-link" aria-label="Direct link to the-invoke-method" title="Direct link to the-invoke-method" href="/docs/smallrye-mutiny/observing-events#the-invoke-method">​</a></h2>
<p>The <em><strong>invoke</strong></em> method is synchronous and the passed callback does not return anything. Mutiny invokes the configured callback when the observed stream dispatches the event:</p>
<div class="language-javadoc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javadoc codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Uni&lt;String&gt; u = uni.onItem()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .invoke(i -&gt; System.out.println(&quot;Received item: &quot; + i));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Multi&lt;String&gt; m = multi.onItem()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .invoke(i -&gt; System.out.println(&quot;Received item: &quot; + i));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As said above, invoke is synchronous. Mutiny invokes the callback and propagates the event downstream when the callback returns. It blocks the dispatching.</p>
<img src="/img/smallrye-mutiny/invoke-method-01.png" alt="invoke-method-01.png">
<br>
<p>Of course, we highly recommend you not to block.</p>
<p>The following snippets show how you can log the different types of events.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">multi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .onSubscription()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .invoke(() -&gt; System.out.println(&quot;⬇️ Subscribed&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .onItem()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .invoke(i -&gt; System.out.println(&quot;⬇️ Received item: &quot; + i))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .onFailure()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .invoke(f -&gt; System.out.println(&quot;⬇️ Failed with &quot; + f))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .onCompletion()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .invoke(() -&gt; System.out.println(&quot;⬇️ Completed&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .onCancellation()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .invoke(() -&gt; System.out.println(&quot;⬆️ Cancelled&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .onRequest()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .invoke(l -&gt; System.out.println(&quot;⬆️ Requested: &quot; + l));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-call-method">The <em><strong>call</strong></em> method<a class="hash-link" aria-label="Direct link to the-call-method" title="Direct link to the-call-method" href="/docs/smallrye-mutiny/observing-events#the-call-method">​</a></h2>
<p>Unlike invoke, <em><strong>call</strong></em> is asynchronous, and the callback returns a Uni&lt;?&gt; object.</p>
<p><em><strong>call</strong></em> is often used when you need to implement asynchronous side-effects, such as closing resources.</p>
<img src="/img/smallrye-mutiny/call-method-01.png" alt="call-method-01.png">
<br>
<p>Mutiny does not dispatch the original event downstream until the Uni returned by the callback emits an item:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">multi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .onItem().call(i -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Uni.createFrom().voidItem()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .onItem().delayIt().by(Duration.ofSeconds(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As shown in the previous snippet, you can use this approach to delay items. But, the primary use case is about completing asynchronous actions such as calling an asynchronous close method on a resource:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">multi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .onCompletion().call(() -&gt; resource.close());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Under the hood, Mutiny gets the Uni (by invoking the callback) and subscribes to it. It observes the item or failure event from that Uni. It discards the item value as only the emission matters in this case.</p>
<p>If the callback throws an exception or the produced Uni produces a failure, Mutiny propagates that failure (or a CompositeException) downstream, replacing the original event.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" href="/docs/smallrye-mutiny/observing-events#summary">​</a></h2>
<ul>
<li>The invoke and call methods are handy when you need to observe a Uni or a Multi without changing the transiting events.</li>
<li>Use invoke for implementing synchronous side-effects or logging events.</li>
<li>The asynchronous nature of call makes it perfect for implementing asynchronous side-effects, such as closing resources, flushing data, delay items, and so on.</li>
</ul>
<p>The following table highlights the key differences:</p>
<table><thead><tr><th style="text-align:center"></th><th style="text-align:center">invoke</th><th style="text-align:center">call</th></tr></thead><tbody><tr><td style="text-align:center">Nature</td><td style="text-align:center">synchronous</td><td style="text-align:center">asynchronous</td></tr><tr><td style="text-align:center">Return type</td><td style="text-align:center">void</td><td style="text-align:center">Uni&lt;T&gt;</td></tr><tr><td style="text-align:center">Main use cases</td><td style="text-align:center">logging, synchronous side-effects</td><td style="text-align:center">I/O operations, closing resources, flushing data</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/smallrye-mutiny/smallrye-mutiny-zero"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Smallrye Mutiny Zero</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/smallrye-mutiny/uni"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Uni</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/smallrye-mutiny/observing-events#events">Events</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/smallrye-mutiny/observing-events#the-invoke-method">The <em><strong>invoke</strong></em> method</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/smallrye-mutiny/observing-events#the-call-method">The <em><strong>call</strong></em> method</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/smallrye-mutiny/observing-events#summary">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://netty.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Netty Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/reactive-streams/reactive-streams-jvm?tab=readme-ov-file" target="_blank" rel="noopener noreferrer" class="footer__link-item">reactive-streams-jvm <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://pages.github.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Pages<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">License</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png" alt="CC BY-SA License" height="40px" width="114px"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 jreact.com</div></div></div></footer></div>
</body>
</html>