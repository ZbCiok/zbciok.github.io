<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-streams/apache-flink/Operators/windowing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Windowing | Reactive Programming</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zbciok.github.io/docs/streams/apache-flink/Operators/windowing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Windowing | Reactive Programming"><meta data-rh="true" name="description" content="Windows"><meta data-rh="true" property="og:description" content="Windows"><link data-rh="true" rel="icon" href="/img/favicon-black.ico"><link data-rh="true" rel="canonical" href="https://zbciok.github.io/docs/streams/apache-flink/Operators/windowing"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/streams/apache-flink/Operators/windowing" hreflang="en"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/streams/apache-flink/Operators/windowing" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Reactive Programming RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Reactive Programming Atom Feed"><link rel="stylesheet" href="/assets/css/styles.7393f987.css">
<script src="/assets/js/runtime~main.66ab4b3c.js" defer="defer"></script>
<script src="/assets/js/main.554c3708.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon-black.ico" alt="RP" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon-black.ico" alt="RP" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://jreact.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">jreact.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/streams">Streams</a><button aria-label="Collapse sidebar category &#x27;Streams&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/java-8-streams">Java 8 Streams</a><button aria-label="Expand sidebar category &#x27;Java 8 Streams&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/kafka-streams">Kafka Streams</a><button aria-label="Expand sidebar category &#x27;Kafka Streams&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/ksqlDB">ksqlDB</a><button aria-label="Expand sidebar category &#x27;ksqlDB&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/apache-flink">Apache Flink</a><button aria-label="Collapse sidebar category &#x27;Apache Flink&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/apache-flink/data-stream-api">DataStream API</a><button aria-label="Expand sidebar category &#x27;DataStream API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/apache-flink/table-api-and-sql">Table API &amp; SQL</a><button aria-label="Expand sidebar category &#x27;Table API &amp; SQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/apache-flink/operators">Operators</a><button aria-label="Collapse sidebar category &#x27;Operators&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/streams/apache-flink/Operators/windowing">Windowing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/streams/apache-flink/Operators/joining">Joining</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/apache-flink/connectors">Connectors</a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/streams/apache-flink/flink-ml">Flink ML (machine learning)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/apache-flink/examples">Examples</a><button aria-label="Expand sidebar category &#x27;Examples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/streams/apache-flink/references">References</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/apache-spark">Apache Spark</a><button aria-label="Expand sidebar category &#x27;Apache Spark&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/reactive-streams">Reactive Streams</a><button aria-label="Expand sidebar category &#x27;Reactive Streams&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/project-reactor">Project Reactor</a><button aria-label="Expand sidebar category &#x27;Project Reactor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/smallrye-mutiny">SmallRye Mutiny</a><button aria-label="Expand sidebar category &#x27;SmallRye Mutiny&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vertx">VERT.X</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/aws">AWS</a><button aria-label="Expand sidebar category &#x27;AWS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/quarkus">Quarkus</a><button aria-label="Expand sidebar category &#x27;Quarkus&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/spring">Spring</a><button aria-label="Expand sidebar category &#x27;Spring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/messaging-1">Messaging</a><button aria-label="Expand sidebar category &#x27;Messaging&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/auxiliary-software">Auxiliary</a><button aria-label="Expand sidebar category &#x27;Auxiliary&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/streams"><span itemprop="name">Streams</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/apache-flink"><span itemprop="name">Apache Flink</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/apache-flink/operators"><span itemprop="name">Operators</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Windowing</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Windowing</h1></header>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="windows"><a href="https://nightlies.apache.org/flink/flink-docs-release-1.20/docs/dev/datastream/operators/windows/" target="_blank" rel="noopener noreferrer"><em><strong>Windows</strong></em></a><a href="#windows" class="hash-link" aria-label="Direct link to windows" title="Direct link to windows">​</a></h4>
<p>Windows are at the heart of processing infinite streams. Windows split the stream into “buckets” of finite size, over which we can apply computations. This document focuses on how windowing is performed in Flink and how the programmer can benefit to the maximum from its offered functionality.</p>
<p>To tackle the infinite stream of incoming messages Flink implemented a concept called <strong>windows</strong>. So the idea is very simple, separate elements of infinite streams into streams of finite groups (windows) and then process these groups independently.</p>
<p>A “Window” defines a finite set of elements on an unbounded stream over which we can apply computations. This set can be based on time, element counts, a combination of counts and time, or some custom logic to assign elements to windows.</p>
<p>The general structure of a windowed Flink program is presented below. The first snippet refers to keyed streams, while the second to non-keyed ones.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="keyed-windows">Keyed Windows<a href="#keyed-windows" class="hash-link" aria-label="Direct link to Keyed Windows" title="Direct link to Keyed Windows">​</a></h2>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       .keyBy(...)               &lt;-  keyed versus non-keyed windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       .window(...)              &lt;-  required: &quot;assigner&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.trigger(...)]            &lt;-  optional: &quot;trigger&quot; (else default trigger)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.evictor(...)]            &lt;-  optional: &quot;evictor&quot; (else no evictor)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.allowedLateness(...)]    &lt;-  optional: &quot;lateness&quot; (else zero)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.sideOutputLateData(...)] &lt;-  optional: &quot;output tag&quot; (else no side output for late data)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       .reduce/aggregate/apply()      &lt;-  required: &quot;function&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.getSideOutput(...)]      &lt;-  optional: &quot;output tag&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This operator not only groups the finite number of elements into windows but in each window, it also splits elements into logical streams. It groups elements to process in parallel. Let’s take a look at an example.</p>
<img src="/img/streams/apache-flink/keyed-windows-01.png" width="500" height="250" alt="keyed-windows-01.png">
<br>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flink-windowing-implementation">Flink windowing implementation<a href="#flink-windowing-implementation" class="hash-link" aria-label="Direct link to Flink windowing implementation" title="Direct link to Flink windowing implementation">​</a></h3>
<p>Flink implements windowing using two main components:</p>
<ul>
<li><strong>window assigner</strong>: responsible for assigning each event to one or more windows based on some criteria (e.g., time or count)</li>
<li><strong>window operator</strong>: responsible for managing the state of each window (e.g., storing the events or intermediate results), applying triggers and evictors, and executing window functions</li>
</ul>
<p>Flink’s windowing implementation is based on two key concepts:</p>
<ul>
<li><strong>event time</strong>: is the logical time at which an event occurred in the real world, as opposed to the processing time at which an event arrived at a system component</li>
<li><strong>watermarks</strong>: are special events that carry information about the progress of event time in a stream. Watermarks are used by Flink to determine when a window can be closed and processed, based on the assumption that no events with a lower timestamp will arrive after a watermark</li>
</ul>
<p>To define a window on a stream, you need to specify three components:</p>
<ul>
<li><strong>window assigner</strong>: this determines how the events are assigned to windows. Flink provides built-in window assigners for the four types of keyed windows and the two types of non-keyed windows, as well as a generic window assigner that allows you to define your own custom windows</li>
<li><strong>window trigger</strong>: this determines when a window is ready to be processed and emitted. Flink provides built-in triggers for event time and processing time, as well as a generic trigger that allows you to define your own custom triggers</li>
<li><strong>window</strong> function: this determines how the events in a window are processed and aggregated. Flink provides built-in window functions for common operations, such as sum, count, min, max, and reduce, as well as a generic window function that allows you to define your own custom logic</li>
</ul>
<p>In addition to these components, you can also specify two optional components:</p>
<ul>
<li><strong>window evictor</strong>: this determines how the events are evicted from a window after they have been processed. Flink provides built-in evictors for count-based and time-based eviction, as well as a generic evictor that allows you to define your own custom eviction logic</li>
<li><strong>allowed lateness</strong>: this determines how late events are handled after a window has been emitted. Flink allows you to specify a grace period for late events, and either discard them or update the previous results</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="session-window">Session Window<a href="#session-window" class="hash-link" aria-label="Direct link to Session Window" title="Direct link to Session Window">​</a></h3>
<p>It’s a dynamic-sized windows that group events based on session activity. A session window closes when there is a gap of inactivity that exceeds a specified threshold. For example, if you define a session window with a gap of 10 minutes, the stream will be divided into windows that contain events that are at most 10 minutes apart from each other.</p>
<p>Session windows do not overlap and do not have a fixed start and end time. A session window assigner can be configured with either a static session gap or with a session gap extractor function which defines how long the period of inactivity is.</p>
<p>The Session windows assigner groups elements by sessions of activity. Session windows do not overlap and do not have a fixed start and end time. The number of entities within a session window is not fixed. Because it is a user who defines typically how long the session would be. A session window closes when it does not receive elements for a certain period of time, i.e., when a gap of inactivity occurred. For example, once we have been idle on the amazon website let say for 1 minute that is the end of the previous session and if go back to the site after 1 sec it will start a new session. The way it would determine the session is the pause between one click and another click.</p>
<img src="/img/streams/apache-flink/session-window-01.png" width="500" height="200" alt="session-window-01.png">
<br>
<br>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">input // a stream of key-value pairs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .keyBy(0) // partition the stream by the first field (key)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .window(EventTimeSessionWindows.withGap(Time.minutes(5))) // assign a session window with a 5-minute gap duration based on event time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .process(new DeduplicateProcessFunction()) // filter out duplicate values per key in each window using a custom process function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .print(); // print the results to standard output</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example"><a href="/docs/streams/apache-flink/Examples/session-window"><em><strong>Example</strong></em></a><a href="#example" class="hash-link" aria-label="Direct link to example" title="Direct link to example">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sliding-window">Sliding Window<a href="#sliding-window" class="hash-link" aria-label="Direct link to Sliding Window" title="Direct link to Sliding Window">​</a></h3>
<p>The sliding windows assigner assigns elements to windows of fixed length. It is defined by two time durations, a <em><strong>width</strong></em> for each window and a <em><strong>slide</strong></em> that designates the time between the start of consecutive windows. Typically the slide is less than the window. A sliding window can be used to provide a view of data over some lookback time (the width), updated with some frequency (the slide).</p>
<img src="/img/streams/apache-flink/sliding-window-01.png" width="500" height="100" alt="sliding-window-01.png">
<br>
<p><em><strong>An example sliding window with width=5 minutes and slide=3 minutes.</strong></em></p>
<p>The following code snippets show how to use sliding windows.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DataStream&lt;T&gt; input = ...;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// sliding event-time windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .keyBy(&lt;key selector&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .window(SlidingEventTimeWindows.of(Duration.ofSeconds(10), Duration.ofSeconds(5)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .&lt;windowed transformation&gt;(&lt;window function&gt;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// sliding processing-time windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .keyBy(&lt;key selector&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .window(SlidingProcessingTimeWindows.of(Duration.ofSeconds(10), Duration.ofSeconds(5)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .&lt;windowed transformation&gt;(&lt;window function&gt;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// sliding processing-time windows offset by -8 hours</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .keyBy(&lt;key selector&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .window(SlidingProcessingTimeWindows.of(Duration.ofHours(12), Duration.ofHours(1), Duration.ofHours(-8)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .&lt;windowed transformation&gt;(&lt;window function&gt;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1"><a href="/docs/streams/apache-flink/Examples/sliding-window"><em><strong>Example</strong></em></a><a href="#example-1" class="hash-link" aria-label="Direct link to example-1" title="Direct link to example-1">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tumbling-windows">Tumbling Windows<a href="#tumbling-windows" class="hash-link" aria-label="Direct link to Tumbling Windows" title="Direct link to Tumbling Windows">​</a></h3>
<p>A tumbling windows assigner assigns each element to a window of a specified window size. Tumbling windows have a fixed size and do not overlap. For example, if you specify a tumbling window with a size of 5 minutes, the current window will be evaluated and a new window will be started every five minutes as illustrated by the following figure.</p>
<img src="/img/streams/apache-flink/tumbling-window-01.png" width="600" height="150" alt="tumbling-window-01.png">
<br>
<p>The following code snippets show how to use tumbling windows.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DataStream&lt;T&gt; input = ...;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// tumbling event-time windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .keyBy(&lt;key selector&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .window(TumblingEventTimeWindows.of(Duration.ofSeconds(5)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .&lt;windowed transformation&gt;(&lt;window function&gt;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// tumbling processing-time windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .keyBy(&lt;key selector&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .window(TumblingProcessingTimeWindows.of(Duration.ofSeconds(5)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .&lt;windowed transformation&gt;(&lt;window function&gt;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// daily tumbling event-time windows offset by -8 hours.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .keyBy(&lt;key selector&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .window(TumblingEventTimeWindows.of(Duration.ofDays(1), Duration.ofHours(-8)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .&lt;windowed transformation&gt;(&lt;window function&gt;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-2"><a href="/docs/streams/apache-flink/Examples/tumbling-window"><em><strong>Example</strong></em></a><a href="#example-2" class="hash-link" aria-label="Direct link to example-2" title="Direct link to example-2">​</a></h4>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="non-keyed-windows">Non-Keyed Windows<a href="#non-keyed-windows" class="hash-link" aria-label="Direct link to Non-Keyed Windows" title="Direct link to Non-Keyed Windows">​</a></h2>
<p>Non keyed window simply separate elements of infinite streams into the stream of a finite group. It results in the non-parallel processing of a single stream. The syntax for non keyed window is:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       .windowAll(...)           &lt;-  required: &quot;assigner&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.trigger(...)]            &lt;-  optional: &quot;trigger&quot; (else default trigger)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.evictor(...)]            &lt;-  optional: &quot;evictor&quot; (else no evictor)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.allowedLateness(...)]    &lt;-  optional: &quot;lateness&quot; (else zero)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.sideOutputLateData(...)] &lt;-  optional: &quot;output tag&quot; (else no side output for late data)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       .reduce/aggregate/apply()      &lt;-  required: &quot;function&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [.getSideOutput(...)]      &lt;-  optional: &quot;output tag&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For non keyed window, we just need to call the windowAll(…) method as shown below.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//Non keyed window</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stream.windowAll(...)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/apache-flink/operators"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Operators</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/streams/apache-flink/Operators/joining"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Joining</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#keyed-windows" class="table-of-contents__link toc-highlight">Keyed Windows</a><ul><li><a href="#flink-windowing-implementation" class="table-of-contents__link toc-highlight">Flink windowing implementation</a></li><li><a href="#session-window" class="table-of-contents__link toc-highlight">Session Window</a></li><li><a href="#sliding-window" class="table-of-contents__link toc-highlight">Sliding Window</a></li><li><a href="#tumbling-windows" class="table-of-contents__link toc-highlight">Tumbling Windows</a></li></ul></li><li><a href="#non-keyed-windows" class="table-of-contents__link toc-highlight">Non-Keyed Windows</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://netty.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Netty Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/reactive-streams/reactive-streams-jvm?tab=readme-ov-file" target="_blank" rel="noopener noreferrer" class="footer__link-item">reactive-streams-jvm <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://pages.github.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Pages<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">License</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png" alt="CC BY-SA License" height="40px" width="114px"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 jreact.com</div></div></div></footer></div>
</body>
</html>