<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-streams/reactive-streams/java-util-concurrent-Flow/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">java.util.concurrent.Flow | Reactive Programming</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zbciok.github.io/docs/streams/reactive-streams/java-util-concurrent-Flow"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="java.util.concurrent.Flow | Reactive Programming"><meta data-rh="true" name="description" content="The Java Flow API, introduced in Java 9,"><meta data-rh="true" property="og:description" content="The Java Flow API, introduced in Java 9,"><link data-rh="true" rel="icon" href="/img/favicon-black.ico"><link data-rh="true" rel="canonical" href="https://zbciok.github.io/docs/streams/reactive-streams/java-util-concurrent-Flow"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/streams/reactive-streams/java-util-concurrent-Flow" hreflang="en"><link data-rh="true" rel="alternate" href="https://zbciok.github.io/docs/streams/reactive-streams/java-util-concurrent-Flow" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Reactive Programming RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Reactive Programming Atom Feed"><link rel="stylesheet" href="/assets/css/styles.4904f034.css">
<script src="/assets/js/runtime~main.5da5ab3a.js" defer="defer"></script>
<script src="/assets/js/main.b14ebd20.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon-black.ico" alt="RP" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon-black.ico" alt="RP" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://jreact.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">jreact.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/streams">Streams</a><button aria-label="Collapse sidebar category &#x27;Streams&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/java-8-streams">Java 8 Streams</a><button aria-label="Expand sidebar category &#x27;Java 8 Streams&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/kafka-streams">Kafka Streams</a><button aria-label="Expand sidebar category &#x27;Kafka Streams&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/ksqlDB">ksqlDB</a><button aria-label="Expand sidebar category &#x27;ksqlDB&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/apache-flink">Apache Flink</a><button aria-label="Expand sidebar category &#x27;Apache Flink&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/apache-spark">Apache Spark</a><button aria-label="Expand sidebar category &#x27;Apache Spark&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/reactive-streams">Reactive Streams</a><button aria-label="Collapse sidebar category &#x27;Reactive Streams&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/streams/reactive-streams/callbacks-in-java">Callbacks in Java</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/streams/reactive-streams/asynchronicity">Asynchronicity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/streams/reactive-streams/backpressure">Backpressure</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/docs/streams/reactive-streams/java-util-concurrent-Flow">java.util.concurrent.Flow</a><button aria-label="Collapse sidebar category &#x27;java.util.concurrent.Flow&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/streams/reactive-streams/java-util-concurrent-Flow/examples">Examples</a><button aria-label="Expand sidebar category &#x27;Examples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/project-reactor">Project Reactor</a><button aria-label="Expand sidebar category &#x27;Project Reactor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/smallrye-mutiny">SmallRye Mutiny</a><button aria-label="Expand sidebar category &#x27;SmallRye Mutiny&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/vertx">VERT.X</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/aws">AWS</a><button aria-label="Expand sidebar category &#x27;AWS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/quarkus">Quarkus</a><button aria-label="Expand sidebar category &#x27;Quarkus&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/spring">Spring</a><button aria-label="Expand sidebar category &#x27;Spring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/messaging-1">Messaging</a><button aria-label="Expand sidebar category &#x27;Messaging&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/artificial-intelligence/">Artificial Intelligence</a><button aria-label="Expand sidebar category &#x27;Artificial Intelligence&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/auxiliary-software">Auxiliary</a><button aria-label="Expand sidebar category &#x27;Auxiliary&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/streams"><span itemprop="name">Streams</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/reactive-streams"><span itemprop="name">Reactive Streams</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">java.util.concurrent.Flow</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>java.util.concurrent.Flow</h1></header>
<p>The Java Flow API, introduced in Java 9,
provides a standard and efficient way for components of a reactive system to communicate with each other asynchronously,
without requiring them to know each other&#x27;s implementation details.<br><br>
<strong>Flow API enables us to adopt Reactive Programming using just the JDK, not needing additional libraries such as RxJava or Project Reactor, amongst others.</strong></p>
<img src="/img/streams/reactive-streams/flow-api/Java-9-Flow-Simiplified-Communication-Flow.png" alt="java-9-flow-api-operations-01.png">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-flow"><a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/util/concurrent/Flow.html" target="_blank" rel="noopener noreferrer">Class Flow</a><a href="#class-flow" class="hash-link" aria-label="Direct link to class-flow" title="Direct link to class-flow">​</a></h2>
<p>Interrelated interfaces and static methods for establishing flow-controlled components in which <a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/util/concurrent/Flow.Publisher.html" target="_blank" rel="noopener noreferrer"><em><strong><strong>Publishers</strong></strong></em></a> produce items consumed by one or more <a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/util/concurrent/Flow.Subscriber.html" target="_blank" rel="noopener noreferrer"><em><strong><strong>Subscribers</strong></strong></em></a>,
each managed by a <a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/util/concurrent/Flow.Subscription.html" target="_blank" rel="noopener noreferrer"><em><strong><strong>Subscription</strong></strong></em></a>.</p>
<p>These interfaces correspond to the reactive-streams specification. They apply in both concurrent and distributed asynchronous settings: All (seven) methods are defined in void &quot;one-way&quot; message style. Communication relies on a simple form of flow control (method Flow.Subscription.request(long)) that can be used to avoid resource management problems that may otherwise occur in &quot;push&quot; based systems.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-components">Key components:<a href="#key-components" class="hash-link" aria-label="Direct link to Key components:" title="Direct link to Key components:">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="publisher"><a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/util/concurrent/Flow.Publisher.html" target="_blank" rel="noopener noreferrer">Publisher</a><a href="#publisher" class="hash-link" aria-label="Direct link to publisher" title="Direct link to publisher">​</a></h3>
<img src="/img/streams/reactive-streams/flow-api/java-9-flow-api-publisher-02.png" alt="flow-publisher">
<br>
<p>A Publisher is a provider of data items, which publishes them to one or more Subscriber instances.
To implement a custom Publisher, you need to implement the java.util.concurrent.Flow.Publisher interface,
which defines the following methods:</p>
<ul>
<li><code>    subscribe(Subscriber&lt;? super T&gt; subscriber)</code>: Subscribes a Subscriber to this Publisher,
returning a new Subscription instance that represents the connection between them.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="subscriber"><a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/util/concurrent/Flow.Subscriber.html" target="_blank" rel="noopener noreferrer">Subscriber</a><a href="#subscriber" class="hash-link" aria-label="Direct link to subscriber" title="Direct link to subscriber">​</a></h3>
<img src="/img/streams/reactive-streams/flow-api/java-9-flow-api-subscriber-02.png" alt="flow-publisher">
<br>
<p>A Subscriber is a consumer of data items, which receives them from a Publisher.
To implement a custom Subscriber, you need to implement the java.util.concurrent.Flow.Subscriber interface,
which defines the following methods:</p>
<ul>
<li><code>onSubscribe(Subscription subscription)</code>: Receives a Subscription instance from the Publisher,
which allows the Subscriber to request and receive data items from the Publisher.</li>
<li><code>onNext(T item)</code>: Receives the next data item from the Publisher.</li>
<li><code>onError(Throwable throwable)</code>: Receives an error notification from the Publisher.</li>
<li><code>onComplete()</code>: Receives a completion notification from the Publisher.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="subscription"><a href="https://docs.oracle.com/en%2Fjava%2Fjavase%2F11%2Fdocs%2Fapi%2F%2F/java.base/java/util/concurrent/Flow.Subscription.html" target="_blank" rel="noopener noreferrer">Subscription</a><a href="#subscription" class="hash-link" aria-label="Direct link to subscription" title="Direct link to subscription">​</a></h3>
<p>A Subscription is a connection between a Publisher and a Subscriber, which allows the Subscriber to request and receive data items from the Publisher.
To implement a custom Subscription, you need to implement the java.util.concurrent.Flow.Subscription interface, which defines the following methods:</p>
<ul>
<li><code>request(long n)</code>: Requests n data items from the Publisher.</li>
<li><code>cancel()</code>: Cancels the Subscription, terminating the connection between the Publisher and Subscriber.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="processor"><a href="https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.Processor.html" target="_blank" rel="noopener noreferrer">Processor</a><a href="#processor" class="hash-link" aria-label="Direct link to processor" title="Direct link to processor">​</a></h3>
<p>A Processor is a component that both subscribes to a Publisher and publishes to a Subscriber,
allowing it to transform or filter data items.
To implement a custom Processor, you need to implement both the java.util.concurrent.Flow.Publisher and java.util.concurrent.Flow.Subscriber interfaces.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submissionpublisher"><a href="https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/SubmissionPublisher.html" target="_blank" rel="noopener noreferrer">SubmissionPublisher</a><a href="#submissionpublisher" class="hash-link" aria-label="Direct link to submissionpublisher" title="Direct link to submissionpublisher">​</a></h3>
<p>Since Java 9, we can create <em><strong><strong>Reactive Streams</strong></strong></em> by introducing four core interfaces:
<em><strong><strong>Publisher</strong></strong></em>, <em><strong><strong>Subscriber</strong></strong></em>, <em><strong><strong>Subscription</strong></strong></em>, <em><strong><strong>Processor</strong></strong></em>, and one concrete class: <em><strong><strong>SubmissionPublisher</strong></strong></em> that implements the <em><strong><strong>Publisher</strong></strong></em> interface.
Each interface plays a different role, corresponding to the principles of Reactive Streams.
We can use the submit() method of SubmissionPublisher class to publish the provided item to each subscriber.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-flowpublisher">Example: Flow.Publisher<a href="#example-flowpublisher" class="hash-link" aria-label="Direct link to Example: Flow.Publisher" title="Direct link to Example: Flow.Publisher">​</a></h2>
<p>A Flow.Publisher usually defines its own Flow.Subscription implementation; constructing one in method subscribe and issuing it to the calling Flow.Subscriber.
It publishes items to the subscriber asynchronously, normally using an Executor. For example, here is a very simple publisher that only issues (when requested) a single TRUE item to a single subscriber. Because the subscriber receives only a single item,
this class does not use buffering and ordering control required in most implementations (for example SubmissionPublisher).</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> class OneShotPublisher implements Publisher&lt;Boolean&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private final ExecutorService executor = ForkJoinPool.commonPool(); // daemon-based</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private boolean subscribed; // true after first subscribe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public synchronized void subscribe(Subscriber&lt;? super Boolean&gt; subscriber) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     if (subscribed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       subscriber.onError(new IllegalStateException()); // only one allowed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       subscribed = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       subscriber.onSubscribe(new OneShotSubscription(subscriber, executor));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   static class OneShotSubscription implements Subscription {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     private final Subscriber&lt;? super Boolean&gt; subscriber;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     private final ExecutorService executor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     private Future&lt;?&gt; future; // to allow cancellation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     private boolean completed;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     OneShotSubscription(Subscriber&lt;? super Boolean&gt; subscriber,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         ExecutorService executor) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       this.subscriber = subscriber;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       this.executor = executor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     public synchronized void request(long n) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       if (!completed) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         completed = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         if (n &lt;= 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           IllegalArgumentException ex = new IllegalArgumentException();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           executor.execute(() -&gt; subscriber.onError(ex));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           future = executor.submit(() -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             subscriber.onNext(Boolean.TRUE);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             subscriber.onComplete();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     public synchronized void cancel() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       completed = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       if (future != null) future.cancel(false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-flowsubscriber">Example: Flow.Subscriber<a href="#example-flowsubscriber" class="hash-link" aria-label="Direct link to Example: Flow.Subscriber" title="Direct link to Example: Flow.Subscriber">​</a></h2>
<p>A Flow.Subscriber arranges that items be requested and processed. Items (invocations of Flow.Subscriber.onNext(T)) are not issued unless requested, but multiple items may be requested.
Many Subscriber implementations can arrange this in the style of the following example, where a buffer size of 1 single-steps, and larger sizes usually allow for more efficient overlapped processing with less communication; for example with a value of 64, this keeps total outstanding requests between 32 and 64. Because Subscriber method invocations for a given Flow.Subscription are strictly ordered,
there is no need for these methods to use locks or volatiles unless a Subscriber maintains multiple Subscriptions (in which case it is better to instead define multiple Subscribers, each with its own Subscription).</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> class SampleSubscriber&lt;T&gt; implements Subscriber&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   final Consumer&lt;? super T&gt; consumer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Subscription subscription;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   final long bufferSize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   long count;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SampleSubscriber(long bufferSize, Consumer&lt;? super T&gt; consumer) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     this.bufferSize = bufferSize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     this.consumer = consumer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void onSubscribe(Subscription subscription) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     long initialRequestSize = bufferSize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     count = bufferSize - bufferSize / 2; // re-request when half consumed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     (this.subscription = subscription).request(initialRequestSize);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void onNext(T item) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     if (--count &lt;= 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       subscription.request(count = bufferSize - bufferSize / 2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     consumer.accept(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void onError(Throwable ex) { ex.printStackTrace(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void onComplete() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The default value of defaultBufferSize() may provide a useful starting point for choosing request sizes and capacities in Flow components based on expected rates, resources, and usages. Or, when flow control is never needed, a subscriber may initially request an effectively unbounded number of items, as in:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> class UnboundedSubscriber&lt;T&gt; implements Subscriber&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void onSubscribe(Subscription subscription) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     subscription.request(Long.MAX_VALUE); // effectively unbounded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void onNext(T item) { use(item); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void onError(Throwable ex) { ex.printStackTrace(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void onComplete() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   void use(T item) { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/streams/reactive-streams/backpressure"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Backpressure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/streams/reactive-streams/java-util-concurrent-Flow/examples"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Examples</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#class-flow" class="table-of-contents__link toc-highlight">Class Flow</a></li><li><a href="#key-components" class="table-of-contents__link toc-highlight">Key components:</a><ul><li><a href="#publisher" class="table-of-contents__link toc-highlight">Publisher</a></li><li><a href="#subscriber" class="table-of-contents__link toc-highlight">Subscriber</a></li><li><a href="#subscription" class="table-of-contents__link toc-highlight">Subscription</a></li><li><a href="#processor" class="table-of-contents__link toc-highlight">Processor</a></li><li><a href="#submissionpublisher" class="table-of-contents__link toc-highlight">SubmissionPublisher</a></li></ul></li><li><a href="#example-flowpublisher" class="table-of-contents__link toc-highlight">Example: Flow.Publisher</a></li><li><a href="#example-flowsubscriber" class="table-of-contents__link toc-highlight">Example: Flow.Subscriber</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://netty.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Netty Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/reactive-streams/reactive-streams-jvm?tab=readme-ov-file" target="_blank" rel="noopener noreferrer" class="footer__link-item">reactive-streams-jvm <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://pages.github.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Pages<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">License</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-sa.png" alt="CC BY-SA License" height="40px" width="114px"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 jreact.com</div></div></div></footer></div>
</body>
</html>