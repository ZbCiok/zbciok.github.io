"use strict";(self.webpackChunkjreact_com_docsaurus_01=self.webpackChunkjreact_com_docsaurus_01||[]).push([[4294],{6445:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"apache-hadoop/hbase-pseudo-distributed-mode-kerberos","title":"HBase in Pseudo-Distributed Mode with Kerberos Authentication","description":"Prerequisites","source":"@site/docs/apache-hadoop/hbase-pseudo-distributed-mode-kerberos.mdx","sourceDirName":"apache-hadoop","slug":"/apache-hadoop/hbase-pseudo-distributed-mode-kerberos","permalink":"/docs/apache-hadoop/hbase-pseudo-distributed-mode-kerberos","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":400,"frontMatter":{"sidebar_position":400},"sidebar":"tutorialSidebar","previous":{"title":"HBase","permalink":"/docs/apache-hadoop/hbase"},"next":{"title":"Hadoop-3.2.1 using Docker 01","permalink":"/docs/apache-hadoop/hadoop-using-docker-01"}}');var a=n(4848),o=n(8453);const t={sidebar_position:400},i="HBase in Pseudo-Distributed Mode with Kerberos Authentication",c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup Kerberos (Basic)",id:"setup-kerberos-basic",level:2},{value:"Hadoop Kerberos Configuration",id:"hadoop-kerberos-configuration",level:2},{value:"Create HBase Principal and Keytab",id:"create-hbase-principal-and-keytab",level:2},{value:"Configure HBase for Kerberos",id:"configure-hbase-for-kerberos",level:2},{value:"Output:",id:"output",level:4},{value:"Output:",id:"output-1",level:4}];function l(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"hbase-in-pseudo-distributed-mode-with-kerberos-authentication",children:"HBase in Pseudo-Distributed Mode with Kerberos Authentication"})}),"\n",(0,a.jsx)(r.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Ubuntu"}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"setup-kerberos-basic",children:"Setup Kerberos (Basic)"}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.a,{href:"/docs/auxiliary-software/kerberos",children:(0,a.jsx)(r.em,{children:(0,a.jsx)(r.strong,{children:"/docs/auxiliary-software/kerberos"})})})}),"\n",(0,a.jsx)(r.h2,{id:"hadoop-kerberos-configuration",children:"Hadoop Kerberos Configuration"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"sudo kadmin.local\nkadmin.local: addprinc hdfs/localhost@JREACT.EXAMPLE.COM\nkadmin.local: ktadd -k /etc/krb5kdc/kadm5.keytab hdfs/localhost@JREACT.EXAMPLE.COM\n\nkadmin.local: addprinc host/localhost@JREACT.EXAMPLE.COM\nkadmin.local: ktadd -k /etc/krb5kdc/kadm5.keytab host/localhost@JREACT.EXAMPLE.COM\n"})}),"\n",(0,a.jsx)(r.p,{children:"Check:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"kadmin.local: list_principals\n"})}),"\n",(0,a.jsx)(r.h2,{id:"create-hbase-principal-and-keytab",children:"Create HBase Principal and Keytab"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"sudo kadmin.local\nkadmin.local: addprinc -randkey hbase/localhost@JREACT.EXAMPLE.COM\nkadmin.local: ktadd -k /etc/krb5kdc/kadm5.keytab hbase/localhost@JREACT.EXAMPLE.COM\n"})}),"\n",(0,a.jsxs)(r.p,{children:["Use your values of ",(0,a.jsx)(r.code,{children:"/etc/krb5kdc/kadm5.keytab"})," and ",(0,a.jsx)(r.code,{children:"hbase/localhost@JREACT.EXAMPLE.COM"}),"."]}),"\n",(0,a.jsx)(r.h2,{id:"configure-hbase-for-kerberos",children:"Configure HBase for Kerberos"}),"\n",(0,a.jsxs)(r.p,{children:["Edit ",(0,a.jsx)(r.em,{children:(0,a.jsx)(r.strong,{children:"hbase-site.xml"})}),":"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"  <property>\n    <name>hbase.security.authentication</name>\n    <value>kerberos</value>\n  </property>\n  <property>\n    <name>hbase.master.kerberos.principal</name>\n    <value>hbase/localhost@JREACT.EXAMPLE.COM</value>\n  </property>\n  <property>\n    <name>hbase.regionserver.kerberos.principal</name>\n    <value>hbase/localhost@JREACT.EXAMPLE.COM</value>\n  </property>\n  <property>\n    <name>hbase.master.keytab.file</name>\n    <value>/etc/krb5kdc/kadm5.keytab</value>\n  </property>\n  <property>\n    <name>hbase.regionserver.keytab.file</name>\n    <value>/etc/krb5kdc/kadm5.keytab</value>\n  </property>\n"})}),"\n",(0,a.jsxs)(r.p,{children:["Also, in ",(0,a.jsx)(r.em,{children:(0,a.jsx)(r.strong,{children:"hbase-env.sh"})}),":"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:'...\n...\n  export HBASE_OPTS="$HBASE_OPTS -Djava.security.krb5.conf=/etc/krb5.conf"\n...\n'})}),"\n",(0,a.jsx)(r.p,{children:"Make sure you've done:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"kinit -k -t /etc/krb5kdc/kadm5.keytab hbase/localhost@JREACT.EXAMPLE.COM\n"})}),"\n",(0,a.jsx)(r.p,{children:"Do this:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"klist -kte /etc/krb5kdc/kadm5.keytab\n"})}),"\n",(0,a.jsx)(r.h4,{id:"output",children:"Output:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"Keytab name: FILE:/etc/krb5kdc/kadm5.keytab\nKVNO Timestamp           Principal\n---- ------------------- ------------------------------------------------------\n   2 04/11/2025 11:35:11 hdfs/localhost@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)\n   2 04/11/2025 11:35:11 hdfs/localhost@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)\n   2 04/11/2025 11:36:02 host/localhost@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)\n   2 04/11/2025 11:36:02 host/localhost@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)\n   2 04/11/2025 11:36:42 hbase/localhost@JREACT.EXAMPLE.COM (aes256-cts-hmac-sha1-96)\n   2 04/11/2025 11:36:42 hbase/localhost@JREACT.EXAMPLE.COM (aes128-cts-hmac-sha1-96)\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"klist\n"})}),"\n",(0,a.jsx)(r.h4,{id:"output-1",children:"Output:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"Ticket cache: FILE:/tmp/krb5cc_0\nDefault principal: hbase/localhost@JREACT.EXAMPLE.COM\n\nValid starting       Expires              Service principal\n04/11/2025 11:42:35  04/11/2025 21:42:35  krbtgt/JREACT.EXAMPLE.COM@JREACT.EXAMPLE.COM\n\trenew until 04/12/2025 11:42:35\n"})})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>i});var s=n(6540);const a={},o=s.createContext(a);function t(e){const r=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);