"use strict";(self.webpackChunkjreact_com_docsaurus_01=self.webpackChunkjreact_com_docsaurus_01||[]).push([[8089],{3537:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>i});const s=JSON.parse('{"id":"aws/S3/examples/aws-localstack-s3-example-1","title":"aws-localstack-s3-example-1","description":"Description","source":"@site/docs/aws/S3/examples/aws-localstack-s3-example-1.mdx","sourceDirName":"aws/S3/examples","slug":"/aws/S3/examples/aws-localstack-s3-example-1","permalink":"/docs/aws/S3/examples/aws-localstack-s3-example-1","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"Examples","permalink":"/docs/aws/s3/examples"},"next":{"title":"Spring AWS S3 Example-2","permalink":"/docs/aws/S3/examples/spring-aws-s3-example-2"}}');var c=n(4848),t=n(8453);const l={sidebar_position:10},r="aws-localstack-s3-example-1",o={},i=[{value:"Description",id:"description",level:2},{value:"Install LocalStack",id:"install-localstack",level:2},{value:"Create an S3 bucket",id:"create-an-s3-bucket",level:2},{value:"Managing S3 objects",id:"managing-s3-objects",level:2}];function d(e){const a={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.header,{children:(0,c.jsx)(a.h1,{id:"aws-localstack-s3-example-1",children:"aws-localstack-s3-example-1"})}),"\n",(0,c.jsx)(a.h2,{id:"description",children:"Description"}),"\n",(0,c.jsx)("img",{src:"/img/aws/s3/aws-localstack-s3-example-1.png",alt:"aws-localstack-s3-example-1.png"}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(a.p,{children:"S3 (Simple Storage Service) is an object storage service that provides a highly scalable and durable solution for storing and retrieving data. In S3, a bucket represents a directory, while an object corresponds to a file. Each object or file within S3 encompasses essential attributes such as a unique key denoting its name, the actual content it holds, a version ID for versioning support, and accompanying metadata. S3 can store unlimited objects, allowing you to store, retrieve, and manage your data in a highly adaptable and reliable manner."}),"\n",(0,c.jsx)(a.h2,{id:"install-localstack",children:"Install LocalStack"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"local-compose.yaml\n"})}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:'version: "3.8"\n\nservices:\n  localstack:\n    container_name: "${LOCALSTACK_DOCKER_NAME:-localstack-main}"\n    image: localstack/localstack\n    ports:\n      - "127.0.0.1:4566:4566"            # LocalStack Gateway\n      - "127.0.0.1:4510-4559:4510-4559"  # external services port range\n    environment:\n      # LocalStack configuration: https://docs.localstack.cloud/references/configuration/\n      - DEBUG=${DEBUG:-0}\n    volumes:\n      - "${LOCALSTACK_VOLUME_DIR:-./volume}:/var/lib/localstack"\n      - "/var/run/docker.sock:/var/run/docker.sock"\n'})}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"docker compose -f local-compose.yaml up\n"})}),"\n",(0,c.jsx)(a.h2,{id:"create-an-s3-bucket",children:"Create an S3 bucket"}),"\n",(0,c.jsx)(a.p,{children:"Run the following command to create an S3 bucket named sample-bucket:"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"awslocal s3api create-bucket --bucket sample-bucket\n"})}),"\n",(0,c.jsx)(a.p,{children:"Output:"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:'{\n    "Location": "/sample-bucket"\n}\n'})}),"\n",(0,c.jsxs)(a.p,{children:["See: ",(0,c.jsx)(a.em,{children:(0,c.jsx)(a.strong,{children:(0,c.jsx)(a.a,{href:"http://localhost:4566/sample-bucket",children:"http://localhost:4566/sample-bucket"})})})]}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"<ListBucketResult>\n<IsTruncated>false</IsTruncated>\n<Marker/>\n<Name>sample-bucket</Name>\n<Prefix/>\n<MaxKeys>1000</MaxKeys>\n</ListBucketResult>\n"})}),"\n",(0,c.jsx)(a.p,{children:"You can list your S3 buckets using the ListBuckets:"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"awslocal s3api list-buckets\n"})}),"\n",(0,c.jsx)(a.p,{children:"Output:"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:'{\n    "Buckets": [\n        {\n            "Name": "sample-bucket",\n            "CreationDate": "2024-09-01T07:42:05+00:00"\n        }\n    ],\n    "Owner": {\n        "DisplayName": "webfile",\n        "ID": "75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a"\n    }\n}\n'})}),"\n",(0,c.jsx)(a.h2,{id:"managing-s3-objects",children:"Managing S3 objects"}),"\n",(0,c.jsx)(a.p,{children:"To upload a file to your S3 bucket, you can use the PutObject API. Download a random image from the internet and save it as image.jpg. Run the following command to upload the file to your S3 bucket:"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"awslocal s3api put-object \\\n  --bucket sample-bucket \\\n  --key image.jpg \\\n  --body /media/{...}/image.jpg\n"})}),"\n",(0,c.jsx)(a.p,{children:"Output:"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:'{\n    "ETag": "\\"deb86dad6d431665472eb815bcf1908a\\"",\n    "ServerSideEncryption": "AES256"\n}\n'})}),"\n",(0,c.jsx)(a.p,{children:"You can list the objects:"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:"awslocal s3api list-objects \\\n  --bucket sample-bucket\n"})}),"\n",(0,c.jsx)(a.p,{children:"Output:"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{children:'{\n    "Contents": [\n        {\n            "Key": "image.jpg",\n            "LastModified": "2024-03-04T09:10:52+00:00",\n            "ETag": "\\"deb86dad6d431665472eb815bcf1908a\\"",\n            "Size": 107995,\n            "StorageClass": "STANDARD",\n            "Owner": {\n                "DisplayName": "webfile",\n                "ID": "75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a"\n            }\n        }\n    ],\n    "RequestCharged": null\n}\n'})}),"\n",(0,c.jsxs)(a.p,{children:["See: ",(0,c.jsx)(a.em,{children:(0,c.jsx)(a.strong,{children:(0,c.jsx)(a.a,{href:"https://docs.localstack.cloud/user-guide/aws/s3/",children:"https://docs.localstack.cloud/user-guide/aws/s3/"})})})]}),"\n",(0,c.jsx)(a.hr,{})]})}function p(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,c.jsx)(a,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>l,x:()=>r});var s=n(6540);const c={},t=s.createContext(c);function l(e){const a=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);