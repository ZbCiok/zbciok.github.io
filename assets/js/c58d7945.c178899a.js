"use strict";(self.webpackChunkjreact_com_docsaurus_01=self.webpackChunkjreact_com_docsaurus_01||[]).push([[7186],{1539:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"apache-hadoop/Examples/hbase-import-from-hdfs","title":"HBase: Importing Data from HDFS","description":"Description","source":"@site/docs/apache-hadoop/Examples/hbase-import-from-hdfs.mdx","sourceDirName":"apache-hadoop/Examples","slug":"/apache-hadoop/Examples/hbase-import-from-hdfs","permalink":"/docs/apache-hadoop/Examples/hbase-import-from-hdfs","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":700,"frontMatter":{"sidebar_position":700},"sidebar":"tutorialSidebar","previous":{"title":"Sqoop: Importing Table into Target Directory","permalink":"/docs/apache-hadoop/Examples/sqoop-import-in-target-dir"},"next":{"title":"References","permalink":"/docs/apache-hadoop/references"}}');var a=s(4848),o=s(8453);const r={sidebar_position:700},i="HBase: Importing Data from HDFS",l={},c=[{value:"Description",id:"description",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Developing",id:"developing",level:2},{value:"Input Data Preparation",id:"input-data-preparation",level:3},{value:"Create HBase Table",id:"create-hbase-table",level:3},{value:"Load data into HBase",id:"load-data-into-hbase",level:3},{value:"hbase:001:0&gt; scan &#39;customers-100&#39;:",id:"hbase0010-scan-customers-100",level:4}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"hbase-importing-data-from-hdfs",children:"HBase: Importing Data from HDFS"})}),"\n",(0,a.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"Local CSV file"})," --\x3e ",(0,a.jsx)(t.code,{children:"HDFS"})," --\x3e ",(0,a.jsx)(t.code,{children:"HBase"}),(0,a.jsx)("br",{})]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Input Data Preparation"}),"\n",(0,a.jsx)(t.li,{children:"Create HBase Table"}),"\n",(0,a.jsx)(t.li,{children:"Load data into HBase"}),"\n",(0,a.jsx)(t.li,{children:"Read data from HBase"}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"HDFS: hadoop-3.4.1"}),"\n",(0,a.jsx)(t.li,{children:"HBase: hbase-2.5.11-hadoop3"}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"developing",children:"Developing"}),"\n",(0,a.jsx)(t.h3,{id:"input-data-preparation",children:"Input Data Preparation"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Create local dir:"}),(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.code,{children:"/home/hadoop/examples/HBaseImportingDatafromHDFS"})]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Download data:"}),(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.a,{href:"https://drive.google.com/uc?id=1zO8ekHWx9U7mrbx_0Hoxxu6od7uxJqWw&export=download",children:"https://drive.google.com/uc?id=1zO8ekHWx9U7mrbx_0Hoxxu6od7uxJqWw&export=download"}),(0,a.jsx)("br",{}),"\nfile ",(0,a.jsx)(t.code,{children:"customers-100.csv"}),(0,a.jsx)("br",{}),"\nto:\n",(0,a.jsx)(t.code,{children:"/home/hadoop/examples/HBaseImportingDatafromHDFS"})]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Read CSV structure:"})," ",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(t.code,{children:"Index,Customer Id,First Name,Last Name,Company,City,Country,Phone 1,Phone 2,Email,Subscription Date,Website"})]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Load to HDFS"}),":",(0,a.jsx)("br",{})]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"hdfs dfs -mkdir /examples/HBaseImportingDatafromHDFS\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"\nhadoop fs -copyFromLocal /home/hadoop/examples/HBaseImportingDatafromHDFS/customers-100.csv /examples/HBaseImportingDatafromHDFS/customers-100.csv\n"})}),"\n",(0,a.jsx)(t.p,{children:"Check:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"hdfs dfs -ls /examples/HBaseImportingDatafromHDFS\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"\n-rw-r--r--   1 hadoop supergroup      17261 2025-03-19 14:01 /examples/HBaseImportingDatafromHDFS/customers-100.csv\n"})}),"\n",(0,a.jsx)(t.h3,{id:"create-hbase-table",children:"Create HBase Table"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"\ncreate 'customers-100', 'Customer_Id', 'First_Name', 'Last_Name', 'Company', 'City', 'Country', 'Phone_1', 'Phone_2', 'Email', 'Subscription_Date', 'Website'\n"})}),"\n",(0,a.jsx)(t.p,{children:"Check:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"describe 'customers-100'\n"})}),"\n",(0,a.jsx)(t.h3,{id:"load-data-into-hbase",children:"Load data into HBase"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"\nhbase org.apache.hadoop.hbase.mapreduce.ImportTsv -Dimporttsv.separator=',' -Dimporttsv.columns=HBASE_ROW_KEY,Customer_Id,First_Name,Last_Name,Company,City,Country,Phone_1,Phone_2,Email,Subscription_Date,Website customers-100 /examples/HBaseImportingDatafromHDFS/customers-100.csv\n"})}),"\n",(0,a.jsx)(t.p,{children:"Output:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"...\n...\n\t\tTotal vcore-milliseconds taken by all map tasks=1656\n\t\tTotal megabyte-milliseconds taken by all map tasks=1695744\n\tMap-Reduce Framework\n\t\tMap input records=101\n\t\tMap output records=67\n\t\tInput split bytes=140\n\t\tSpilled Records=0\n\t\tFailed Shuffles=0\n\t\tMerged Map outputs=0\n\t\tGC time elapsed (ms)=11\n\t\tCPU time spent (ms)=1320\n\t\tPhysical memory (bytes) snapshot=371847168\n\t\tVirtual memory (bytes) snapshot=2827165696\n\t\tTotal committed heap usage (bytes)=524288000\n\t\tPeak Map Physical memory (bytes)=371847168\n\t\tPeak Map Virtual memory (bytes)=2827165696\n\tImportTsv\n\t\tBad Lines=34\n\tFile Input Format Counters\n\t\tBytes Read=17261\n\tFile Output Format Counters\n\t\tBytes Written=0\n"})}),"\n",(0,a.jsx)(t.h4,{id:"hbase0010-scan-customers-100",children:"hbase:001:0> scan 'customers-100':"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"hbase:001:0> scan 'customers-100'\nROW                                                   COLUMN+CELL\n 1                                                    column=City:, timestamp=2025-03-22T16:08:00.164, value=East Leonard\n 1                                                    column=Company:, timestamp=2025-03-22T16:08:00.164, value=Rasmussen Group\n 1                                                    column=Country:, timestamp=2025-03-22T16:08:00.164, value=Chile\n 1                                                    column=Customer_Id:, timestamp=2025-03-22T16:08:00.164, value=DD37Cf93aecA6Dc\n 1                                                    column=Email:, timestamp=2025-03-22T16:08:00.164, value=zunigavanessa@smith.info\n 1                                                    column=First_Name:, timestamp=2025-03-22T16:08:00.164, value=Sheryl\n 1                                                    column=Last_Name:, timestamp=2025-03-22T16:08:00.164, value=Baxter\n 1                                                    column=Phone_1:, timestamp=2025-03-22T16:08:00.164, value=229.077.5154\n 1                                                    column=Phone_2:, timestamp=2025-03-22T16:08:00.164, value=397.884.0519x718\n 1                                                    column=Subscription_Date:, timestamp=2025-03-22T16:08:00.164, value=2020-08-24\n 1                                                    column=Website:, timestamp=2025-03-22T16:08:00.164, value=http://www.stephenson.com/\n 10                                                   column=City:, timestamp=2025-03-22T16:08:00.164, value=Elaineberg\n 10                                                   column=Company:, timestamp=2025-03-22T16:08:00.164, value=Beck-Hendrix\n 10                                                   column=Country:, timestamp=2025-03-22T16:08:00.164, value=Timor-Leste\n\n ...\n ...\n"})})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>i});var n=s(6540);const a={},o=n.createContext(a);function r(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);