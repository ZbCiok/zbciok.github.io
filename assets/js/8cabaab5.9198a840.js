"use strict";(self.webpackChunkjreact_com_docsaurus_01=self.webpackChunkjreact_com_docsaurus_01||[]).push([[1724],{9781:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>t});var i=n(4848),a=n(8453);const r={sidebar_position:24},l="SCS AWS Kinesis (LocalStack)",c={id:"aws/amazon-kinesis-data-streams/examples/spring-cloud-stream-aws-kinesis",title:"SCS AWS Kinesis (LocalStack)",description:"(Spring Cloud Stream AWS Kinesis)",source:"@site/docs/aws/amazon-kinesis-data-streams/examples/spring-cloud-stream-aws-kinesis.mdx",sourceDirName:"aws/amazon-kinesis-data-streams/examples",slug:"/aws/amazon-kinesis-data-streams/examples/spring-cloud-stream-aws-kinesis",permalink:"/docs/aws/amazon-kinesis-data-streams/examples/spring-cloud-stream-aws-kinesis",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:24,frontMatter:{sidebar_position:24},sidebar:"tutorialSidebar",previous:{title:"Spring Kinesis Producer",permalink:"/docs/aws/amazon-kinesis-data-streams/examples/spring-with-aws-kinesis"},next:{title:"Quarkus Kinesis (LocalStack)",permalink:"/docs/aws/amazon-kinesis-data-streams/examples/quarkus-aws-kinesis"}},o={},t=[{value:"<em><strong>(Spring Cloud Stream AWS Kinesis)</strong></em>",id:"spring-cloud-stream-aws-kinesis",level:3},{value:"Description",id:"description",level:3},{value:"Requirements",id:"requirements",level:3},{value:"Start LocalStack",id:"start-localstack",level:3},{value:"Create:",id:"create",level:4},{value:"Run:",id:"run",level:4},{value:"SCSKinesisConsumer",id:"scskinesisconsumer",level:3},{value:"Run <em><strong>Consumer</strong></em>",id:"run-consumer",level:4},{value:"SCSKinesisSupplier",id:"scskinesissupplier",level:3},{value:"Run <em><strong>Supplier</strong></em>",id:"run-supplier",level:4},{value:"Source Code",id:"source-code",level:3}];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"scs-aws-kinesis-localstack",children:"SCS AWS Kinesis (LocalStack)"})}),"\n",(0,i.jsx)(s.h3,{id:"spring-cloud-stream-aws-kinesis",children:(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"(Spring Cloud Stream AWS Kinesis)"})})}),"\n",(0,i.jsx)(s.h3,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"/docs/aws/amazon-kinesis-data-streams",children:(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"AWS Kinesis"})})}),(0,i.jsx)("br",{}),"\n",(0,i.jsx)(s.a,{href:"https://spring.io/projects/spring-cloud",children:(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"Spring Cloud"})})}),(0,i.jsx)("br",{}),"\n",(0,i.jsx)(s.a,{href:"https://spring.io/projects/spring-cloud-stream",children:(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"Spring Cloud Stream"})})}),(0,i.jsx)("br",{}),"\n",(0,i.jsx)(s.a,{href:"https://www.localstack.cloud/",children:(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"LocalStack"})})})]}),"\n",(0,i.jsxs)(s.p,{children:["Project ",(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"SCSKinesisExample-1"})}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:"localstack-compose.yaml\nSCSKinesisConsumer\nSCSKinesisSupplier\n"})}),"\n",(0,i.jsx)("img",{src:"/img/aws/kinesis/SCS-kinesis-description-diag-01.png",alt:"SCS-kinesis-description-diag-01.png"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(s.h3,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"JDK 17"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"start-localstack",children:"Start LocalStack"}),"\n",(0,i.jsx)(s.h4,{id:"create",children:"Create:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:"localstack-compose.yaml\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:'version: "3.8"\n\nservices:\n  localstack:\n    container_name: "${LOCALSTACK_DOCKER_NAME-localstack_main}"\n    image: localstack/localstack\n    ports:\n      - "127.0.0.1:4566:4566"            # LocalStack Gateway\n      - "127.0.0.1:4510-4559:4510-4559"  # external services port range\n    environment:\n      - DEBUG=${DEBUG-}\n      - DOCKER_HOST=unix:///var/run/docker.sock\n      - AWS_ACCESS_KEY_ID=*******\n      - AWS_SECRET_ACCESS_KEY=*******\n      - DEFAULT_REGION=us-east-1\n      - AWS_CBOR_DISABLE=true\n    volumes:\n      - "${LOCALSTACK_VOLUME_DIR:-./volume}:/var/lib/localstack"\n      - "/var/run/docker.sock:/var/run/docker.sock"\n'})}),"\n",(0,i.jsx)(s.h4,{id:"run",children:"Run:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:"docker compose -f localstack-compose.yaml up\n"})}),"\n",(0,i.jsx)(s.h3,{id:"scskinesisconsumer",children:"SCSKinesisConsumer"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:".\n\u251c\u2500\u2500 Consumer.log\n\u251c\u2500\u2500 pom.xml\n\u251c\u2500\u2500 src\n\u2502\xa0\xa0 \u251c\u2500\u2500 main\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 com\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0     \u2514\u2500\u2500 jreact\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0         \u2514\u2500\u2500 scs\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0             \u2514\u2500\u2500 kinesis\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u251c\u2500\u2500 controller\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u2502\xa0\xa0 \u2514\u2500\u2500 KinesisController.java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u251c\u2500\u2500 model\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u2502\xa0\xa0 \u2514\u2500\u2500 IntegerEntity.java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u2514\u2500\u2500 ScsKinesisConsumerApplication.java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 resources\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u251c\u2500\u2500 application-local.properties\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u251c\u2500\u2500 application.properties\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u2514\u2500\u2500 logback.xml\n\u2502\xa0\xa0 \u2514\u2500\u2500 test\n\u2514\u2500\u2500 volume // Docker dir\n"})}),"\n",(0,i.jsxs)(s.h4,{id:"run-consumer",children:["Run ",(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"Consumer"})})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:"mvn clean install\njava -Dspring.profiles.active=local -jar target/SCSKinesisConsumer-0.0.1-SNAPSHOT.jar\n"})}),"\n",(0,i.jsx)(s.h3,{id:"scskinesissupplier",children:"SCSKinesisSupplier"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:".\n\u251c\u2500\u2500 pom.xml\n\u251c\u2500\u2500 src\n\u2502\xa0\xa0 \u251c\u2500\u2500 main\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 com\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0     \u2514\u2500\u2500 jreact\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0         \u2514\u2500\u2500 scs\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0             \u2514\u2500\u2500 supplier\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u251c\u2500\u2500 config\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u2502\xa0\xa0 \u2514\u2500\u2500 LocalStackClientConfiguration.java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u251c\u2500\u2500 controller\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u2502\xa0\xa0 \u2514\u2500\u2500 KinesisController.java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u251c\u2500\u2500 model\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u2502\xa0\xa0 \u2514\u2500\u2500 IntegerEntity.java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2502\xa0\xa0                 \u2514\u2500\u2500 ScsKinesisSupplierApplication.java\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 resources\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u251c\u2500\u2500 application-local.properties\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u251c\u2500\u2500 application.properties\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u2514\u2500\u2500 logback.xml\n\u251c\u2500\u2500 Supplier.log\n\u2514\u2500\u2500 volume // Docker dir\n"})}),"\n",(0,i.jsxs)(s.h4,{id:"run-supplier",children:["Run ",(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"Supplier"})})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:"mvn clean install\njava -Dspring.profiles.active=local -jar target/SCSKinesisSupplier-0.0.1-SNAPSHOT.jar\n"})}),"\n",(0,i.jsx)(s.h3,{id:"source-code",children:"Source Code"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"https://github.com/ZbCiok/zjc-examples/tree/main/aws/aws/SCSKinesisExample-1",children:"https://github.com/ZbCiok/zjc-examples/tree/main/aws/aws/SCSKinesisExample-1"})})})})]})}function p(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>c});var i=n(6540);const a={},r=i.createContext(a);function l(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);